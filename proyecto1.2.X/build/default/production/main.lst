MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 
                      00002 ;*******************************************************************************
                      00003 ;    Filename:   Alarma
                      00004 ;    Date:          08/08/2020
                      00005 ;    File Version: 1V
                      00006 ;    Author:   Angel Orellana
                      00007 ;    Company:   UVG
                      00008 ;    Description:   Proyecto 1 
                      00009 ;*******************************************************************************
                      00010 #include "p16f887.inc"
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Mar 17 2019
                      00005 ;  MPASM PIC16F887 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2019 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      00810         LIST
                      00011 
                      00012 ; CONFIG1
                      00013 ; __config 0xE0D4
2007   20D4           00014  __CONFIG _CONFIG1, _FOSC_INTRC_NOCLKOUT & _WDTE_OFF & _PWRTE_OFF & _MCLRE_OFF & _CP_OFF & _CPD_OFF & _B
                            OREN_OFF & _IESO_OFF & _FCMEN_OFF & _LVP_OFF
                      00015 ; CONFIG2
                      00016 ; __config 0xFFFF
2008   3FFF           00017  __CONFIG _CONFIG2, _BOR4V_BOR40V & _WRT_OFF
                      00018 
                      00019 ; TODO INSERT CONFIG HERE
                      00020 
                      00021 ;******************************************************************************
                      00022 
                      00023 ; TODO PLACE VARIABLE DEFINITIONS GO HERE
                      00024   
  000000FA            00025 VALOR_CUENTATMR0 EQU  .250 ;250
  0000003F            00026 VALOR_LED EQU .63   ;63
  000000DC            00027 VALOR_TMR1L EQU .220 ;220
Warning[207]: Found label after column 1. (VALOR_TMR1H)
  0000000B            00028  VALOR_TMR1H EQU .11 ; 11 ENTRE LOS DOS REGISTROS HACEN 3036 VALOR INICIAR DEL TMR1
Warning[207]: Found label after column 1. (VALOR_TMR0)
  00000006            00029  VALOR_TMR0 EQU .6 ;.6 
  00000002            00030 VALOR_TMR1  EQU .2  ;2 VECES QUE SE TIENE QUE ENTRAR EN TMR1_INT 
Warning[207]: Found label after column 1. (VALOR_TITILAR_7S)
  0000007D            00031  VALOR_TITILAR_7S EQU .125 ;63
Warning[207]: Found label after column 1. (VALOR_BUZZER)
  0000007D            00032  VALOR_BUZZER EQU .125 ;125
Warning[207]: Found label after column 1. (VALOR_TMR2)
  0000007D            00033  VALOR_TMR2 EQU .125 ;125
Warning[207]: Found label after column 1. (VALOR_CONTADOR_TMR2)
  00000032            00034  VALOR_CONTADOR_TMR2 EQU .50 ;50
  000000FA            00035 VALOR_CONTADOR_ALARMA EQU .250
Warning[207]: Found label after column 1. (VALOR_SEGUNDOS_ALARMA)
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000003C            00036  VALOR_SEGUNDOS_ALARMA EQU .60
                      00037  
                      00038 DATOS   UDATA
                      00039 ;------------   CONTADORES PARA EVENTOS ----------------------------------------------------------------
                            ---------------------
0000                  00040 CUENTATMR0      RES 1 ;CUENTA CUANTAS VECES SE HA ACTIVADO LA INTERRUPCION DEL TMR 0
0001                  00041 CUENTALED   RES 1 ;USADA PARA REALIZAR EL ENCENDIDO Y APAGADO DEL LED
0002                  00042 CONTADOR_TMR1 RES 1 ;USADO PARA GATE TMR1 
0003                  00043 TITILAR_DISPLAYS RES 1 ;CONTADOR USADO PARA HACER TITILAR LOS DISPLAYS
0004                  00044 CONTADOR_BUZZER RES 1 ;CONTADOR USADO PARA HACER SONAR EL BUZZER
0005                  00045 CONTADOR_TMR2 RES 1 ;USADO PARA CONTAR EL NUMERO DE VECES QUE SE ENTRA EN TMR2_INT CUANDO
0006                  00046 CONTADOR_ALARMA RES 1 ;USADO PARA CONTAR 1 SEGUNDO DESDE QUE SE ACTIVO LA ALARMA
0007                  00047 SEGUNDOS_ALARMA RES 1 ;USADOR PARA CONTAR 1 MINUTO DESDE QUE SE ACTIVO LA ALARMA
Warning[207]: Found label after column 1. (DELAY)
0008                  00048  DELAY  RES 1 ;USADO PARA CREAR DELAY
0009                  00049 DELAY_2 RES 1 ;DELAY MAS LARGO
                      00050  ;--------------------------------CONTROL DE EJECUCION -------------------------------------------------
                            -------------------------
000A                  00051 CONTROL_DISPLAY RES 1 ;DISPLAY QUE SERA ENCENDIDO
Warning[207]: Found label after column 1. (FLAGS)
000B                  00052  FLAGS RES 1 ;BANDERAS QUE INDICAN QUE ALGUNA CONDICION SE CUMPLIO
                      00053             ; BIT 0, CAMBIO DE DIA 
                      00054             ;BIT 1, SE ESTA EN MODO  EDICION, 
                      00055             ;BIT 2 SI SE EDITA MINUTO/MES (O) O SI SE EDITA MES/DIA(1)
                      00056             ; BIT 3 ES PARA VERIFICAR SI  YA SE ENTRO EN EL MODO EDICION ANTERIORMENTE
                      00057             ;BIT 4 ES PARA CONTROLAR LA TITILACION DE LOS DISPLAYS
                      00058             ;BIT 5 CONTROLAR SI SE DEBE SONAR EL BUZZER PARA AL GUARDAR UN DATO
                      00059             ;BIT 6 CONTROLA SI SUENA LA ALARMA DEL TEMPORIZADOR
000C                  00060 FLAGS_2 RES 1 ;BANDERAS PARA INDICAR QUE ALGUNA CONDICION SE CUMPLIO
                      00061          ;BIT 0, FUE NECESARIO REALIZAR CORRECCION BCD AL DISMINUIR
                      00062          ;BIT 1, FUE NECESARIO REALIZAR CORRECCION BCD AL AUMENTAR
                      00063          ;BIT 2, HUBO FLANCO DE SUBIDA EN RB0
                      00064          ;BIT 3; HUBO FLANCO DE SUBIDA EN RB1
                      00065          ;BIT 4; HUBO FLANCO DE SUBIDA EN RB2
                      00066          ;BIT 5; HUBO FLANCO DE SUBIDA EN RB5
000D                  00067 OPCION RES 1 ;SELECCION DEL MODO DE OPERACION
000E                  00068 PORTB_ACTUAL RES 1 ;VALOR A GUARDAR EL VALOR DEL PUERTO B 
000F                  00069 PORTB_ANTERIOR RES 1; VALOR ANTERIOR DEL PUERTO B
                      00070  
                      00071 ;---------------------------------------MODO DE RELOJ --------------------------------------------------
                            ------------------------------- 
0010                  00072 SEGUNDOS    RES     1
0011                  00073 MINUTOS     RES 1  ;GUARDA EL VALOR DE LOS MINUTOS EN BCD
0012                  00074 HORAS   RES 1   ;GUARDA LA HORA EN BCD
                      00075         
                      00076 ;----------------------------------MODO DE RELOJ EDICION------------------------------------------------
                            ---------------------------
0013                  00077 MINUTO_EDITAR RES 1 ;USADA PARA GUARDAR EL VALOR A ESTABLECER AL EDITAR MINUTO
0014                  00078 HORA_EDITAR  RES 1 ;USADA PARA GUARDAR EL VALOR A ESTABLECER AL EDITAR HORA
                      00079   
                      00080 ;-----------------------------------------MODO FECHA ---------------------------------------------------
                            ---------------------------------
0015                  00081 MES_BCD RES 1; VALOR DEL MES EN BCD
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0016                  00082 MES_BIN RES 1 ;VALOR DEL MES EN BINARIO
0017                  00083 DIA RES 1   ;VALOR DEL DIA EN BCD
0018                  00084 DIA_MAX RES 1 ;DIA MAXIMO POSIBLE
                      00085  
                      00086 ;-----------------------------------------MODO FECHA EDICION--------------------------------------------
                            ----------------------------
0019                  00087 MES_BCD_EDITAR RES 1  ;USADA PARA GUARDAR EL VALOR A ESTABLECER AL EDITAR LA HORA EN BCD
001A                  00088 MES_BIN_EDITAR RES 1 ; ;USADA PARA GUARDAR EL VALOR A ESTABLECER AL EDITAR LA HORA EN BINARIO
001B                  00089 DIA_EDITAR RES 1  ;USADA PARA GUARDAR EL VALOR A ESTABLECER AL EDITAR EL DIA
                      00090  
                      00091 ;-----------------------------------------MODO TEMPORIZADOR---------------------------------------------
                            ---------------------------
001C                  00092 SEGUNDOS_TEMPORIZADOR RES 1 ;SEGUNDOS EN EL TEMPORIZADOR
001D                  00093 MINUTOS_TEMPORIZADOR RES 1 ;MINUTOS EN EL TEMPORIZADOR
                      00094  
                      00095 ;-----------------------------------------MODO TEMPORIZADOR EDICION-------------------------------------
                            -----------------------
001E                  00096 SEGUNDOS_TEMPORIZADOR_EDITAR RES 1 ;SEGUNDOS EN EL TEMPORIZADOR A EDITAR
001F                  00097 MINUTOS_TEMPORIZADOR_EDITAR RES 1 ;MINUTOS EN EL TEMPORIZADOR A EDITAR
                      00098  
                      00099 ;-----------------------------------------ALMACENAMIENTO TEMPORAL DE DATOS------------------------------
                            ------------------
Warning[207]: Found label after column 1. (SAVE_TEMP)
0020                  00100  SAVE_TEMP RES 1  ; SE USA PARA GUARDAR TEMPORALMENTE EL VALOR ESCRITO EN ALGUN PUERTO
Warning[207]: Found label after column 1. (WRAM)
0021                  00101  WRAM RES 1 ; GUARDAR EL VALOR DE W AL ENTRAR A UNA INTERRUPCION
Warning[207]: Found label after column 1. (STATUSRAM)
0022                  00102  STATUSRAM RES 1 ;GUARDAR EL VALOR DE STATUS AL ENTRAR EN UNA INTERRUPCION
                      00103  ;---------------------------------------- VARIABLES COMO PARAMETROS DE FUNCIONES ----------------------
                            ----------------
Warning[207]: Found label after column 1. (DISPLAY_1)
0023                  00104  DISPLAY_1 RES 1 ;USADA PARA ALMACENAR EL VALOR EN EL DISPLAY 1 Y 2 
Warning[207]: Found label after column 1. (DISPLAY_2)
0024                  00105  DISPLAY_2  RES 1;USADA PARA ALMACENAR EL VALOR EN EL DISPLAY 3 Y 4
                      00106  ;*******************************************************************************
                      00107 ; Reset Vector
                      00108 ;*******************************************************************************
                      00109 
                      00110 RES_VECT  CODE    0x0000            ; processor reset vector
0000   2???           00111     GOTO    START                   ; go to beginning of program
                      00112 
                      00113 INTERRUPT_VEC CODE 0x0004
Warning[207]: Found label after column 1. (SAVE)
0004                  00114   SAVE:
0004   00??           00115     MOVWF WRAM
0005   0E03           00116     SWAPF   STATUS,W
0006   00??           00117     MOVWF   STATUSRAM
Warning[207]: Found label after column 1. (SELECCIONAR)
0007                  00118     SELECCIONAR
0007   190B           00119     BTFSC   INTCON,2 ; SI ESTA ACTIVA SE EJECUTA LO SIGUIENTE
0008   2???           00120     GOTO TMR0_INT
0009   180C           00121     BTFSC PIR1, 0 ;OVERFLOW EN EL TIMER 1
000A   2???           00122     GOTO    TMR1_INT
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000B   188C           00123     BTFSC   PIR1,1 ;OVERFLOW EN EL TIMER 2
000C   2???           00124     GOTO TMR2_INT
                      00125     
000D   2???           00126     GOTO LOAD
000E                  00127 TMR0_INT:
000E   3006           00128     MOVLW   VALOR_TMR0
000F   0081           00129     MOVWF   TMR0
0010   110B           00130     BCF INTCON,2
                      00131     
                      00132      ;------------------- SE REGISTRA LA CUENTA DE CADA SEGUNDO ---------------------------------
Warning[207]: Found label after column 1. (CONTAR_SEGUNDO)
0011                  00133     CONTAR_SEGUNDO
Message[305]: Using default destination of 1 (file).
0011   0B??           00134     DECFSZ      CUENTATMR0  ;SI LO ANTERIOR DA 0 SE EJECUTA EL RESTO
                      00135     
0012   2???           00136     GOTO CUENTA_DE_ALARMA
                      00137     
                      00138  
0013   30FA           00139     MOVLW  VALOR_CUENTATMR0
0014   00??           00140     MOVWF   CUENTATMR0
0015   0A??           00141     INCF    SEGUNDOS,F
                      00142     
Warning[207]: Found label after column 1. (CUENTA_DE_ALARMA)
0016                  00143     CUENTA_DE_ALARMA
                      00144     ;---------------------------- CUENTA DE LA ALARMA -----------------------------------------------
0016   1F00           00145     BTFSS   FLAGS,6 ;SI LA ALARMA ESTA ACTIVA SE REALIZA LA CUENTA 
0017   2???           00146     GOTO SONAR_BUZZER
                      00147     
Message[305]: Using default destination of 1 (file).
0018   0B??           00148     DECFSZ  CONTADOR_ALARMA
0019   2???           00149     GOTO    SONAR_BUZZER
                      00150     
001A   30FA           00151     MOVLW   VALOR_CONTADOR_ALARMA
001B   00??           00152     MOVWF   CONTADOR_ALARMA
001C   0B??           00153    DECFSZ   SEGUNDOS_ALARMA,F 
001D   2???           00154    GOTO SONAR_BUZZER
                      00155    
001E   1300           00156    BCF  FLAGS,6
001F   303C           00157    MOVLW    VALOR_SEGUNDOS_ALARMA
0020   00??           00158    MOVWF    SEGUNDOS_ALARMA
                      00159     ;----------------------- SE HACE SONAR EL BUZZER ----------------------------------------------
Warning[207]: Found label after column 1. (SONAR_BUZZER)
0021                  00160     SONAR_BUZZER
0021   1E80           00161     BTFSS   FLAGS,5 ;SI SE ACTIVA ESTE FLAG SE HACE SONAR EL BUZZER
0022   2???           00162     GOTO    TITILAR_7S
                      00163     
0023   1489           00164     BSF PORTE,1
0024   03??           00165     DECF    CONTADOR_BUZZER,F
0025   1D03           00166     BTFSS   STATUS,2 ;SI DA CERO LO ANTERIOR SE SALTA
0026   2???           00167     GOTO    TITILAR_7S
                      00168     
0027   307D           00169     MOVLW   VALOR_BUZZER
0028   00??           00170     MOVWF   CONTADOR_BUZZER
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0029   1089           00171     BCF PORTE,1
002A   1280           00172     BCF FLAGS,5
                      00173     ;--------------------- SE HACE TITILAR LOS DISPLAYS ------------------------------------------
Warning[207]: Found label after column 1. (TITILAR_7S)
002B                  00174     TITILAR_7S
002B   0B??           00175     DECFSZ    TITILAR_DISPLAYS,F ;SI LO ANTERIOR DA 0 SE SALTA EL GOTO
002C   2???           00176     GOTO    PUNTOS_ENMEDIO
                      00177     
002D   307D           00178     MOVLW   VALOR_TITILAR_7S
002E   00??           00179     MOVWF   TITILAR_DISPLAYS
                      00180     
002F   08??           00181     MOVF    FLAGS,W
0030   39EF           00182     ANDLW   B'11101111' ;SE CONSERVAN TODOS MENOS EL BIT 4 
0031   00??           00183     MOVWF   SAVE_TEMP
0032   09??           00184     COMF        FLAGS, W
0033   3910           00185     ANDLW   B'0010000' ;SE CONSERVA SOLO EL BIT4 
0034   07??           00186     ADDWF   SAVE_TEMP,W
0035   00??           00187     MOVWF   FLAGS
                      00188     
                      00189 ;-------------------------------------- TITILAR LOS PUNTOS DE EN MEDIO EN MODO NORMAL ------------------
                            ----------
Warning[207]: Found label after column 1. (PUNTOS_ENMEDIO)
0036                  00190     PUNTOS_ENMEDIO
0036   0B??           00191     DECFSZ    CUENTALED,F ;SI DA 0 ES QUE YA PASARON 500 MS
0037   2???           00192     GOTO    LOAD
                      00193     
                      00194         
                      00195     ;--------------------- SE HACE TITILAR EL LED -----------------------------------------------------
0038   0809           00196     MOVF    PORTE,W
                      00197     ;----- SI LA ALARMA DEL TEMPORIZADOR ESTA ACTIVA SE CAMBIA EL RE1 TAMBIEN
0039   1F00           00198     BTFSS   FLAGS,6    
003A   390B           00199     ANDLW   B'1011' ;SE CONSERVAN TODOS MENOS RE2 
003B   1B00           00200     BTFSC   FLAGS,6 
003C   3909           00201     ANDLW   B'1001'
                      00202    ;-------CONTINUA NORMAL----------
003D   00??           00203     MOVWF   SAVE_TEMP
003E   0909           00204     COMF        PORTE, W
003F   1F00           00205     BTFSS   FLAGS,6
0040   3904           00206     ANDLW   B'0100' ;SE CONSERVA SOLO RE2 
0041   1B00           00207     BTFSC   FLAGS,6
0042   3906           00208     ANDLW   B'0110' ;SE CONSERVA SOLO RE2 Y RE1 PARA HACER SONAR LA ALARMA DEL TEMPORIZADOR
0043   07??           00209     ADDWF   SAVE_TEMP,W
0044   0089           00210     MOVWF   PORTE
0045   303F           00211     MOVLW   VALOR_LED
0046   00??           00212     MOVWF   CUENTALED
0047   2???           00213     GOTO LOAD
0048                  00214 TMR1_INT:
0048   300B           00215     MOVLW   VALOR_TMR1H
0049   008F           00216     MOVWF   TMR1H
004A   30DC           00217     MOVLW   VALOR_TMR1L
004B   008E           00218     MOVWF   TMR1L
004C   100C           00219     BCF PIR1,0 ;SE LIMPIA EL FLAG DE LA INTERRUPCION
                      00220     
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[305]: Using default destination of 1 (file).
004D   03??           00221     DECF CONTADOR_TMR1
004E   1D03           00222     BTFSS   STATUS,2 ;SI LO ANTERIOR DA 0 SE EJECUTA EL CODIGO QUE LE SIGUE
004F   2???           00223     GOTO    LOAD
                      00224     
0050   3002           00225     MOVLW  VALOR_TMR1
0051   00??           00226     MOVWF   CONTADOR_TMR1
0052   1010           00227     BCF T1CON,0 ;SE APAGA EL TMR1
0053   1080           00228     BCF FLAGS,1 ;SE SALE DEL MODO EDICION
0054   1100           00229     BCF FLAGS,2 ;SE COLOCA EN DIA/HORA EN LA EDICION
0055   1680           00230     BSF FLAGS,5 ;SE ACTIVA QUE SUENE EL BUZZER
                      00231     
0056   1800           00232     BTFSC   OPCION,0 ;SI ESTABA ACTIVO ES QUE SE ESTABA EDITANDO LA HORA
0057   2???           00233     GOTO    EDITANDO_HORA
0058   1880           00234     BTFSC   OPCION,1 ;SE ESTABA EN 1, ES QUE SE ESTABA EDITANDO LA FECHA
0059   2???           00235     GOTO    EDITANDO_FECHA
005A   1900           00236     BTFSC   OPCION,2 ;SI ESTABA EN 1, ES QUE SE ESTABA EDITANDO EL CRONOMETRO
005B   2???           00237     GOTO    EDITANDO_TIMER
                      00238     
Warning[207]: Found label after column 1. (EDITANDO_HORA)
005C                  00239     EDITANDO_HORA; SE ESTABA EDITANDO LA HORA Y SE GUARDAN LOS VALORES ESTABLECIDOS
005C   08??           00240     MOVF    MINUTO_EDITAR,W
005D   00??           00241     MOVWF   MINUTOS
005E   08??           00242     MOVF    HORA_EDITAR,W
005F   00??           00243     MOVWF   HORAS
0060   01??           00244     CLRF    SEGUNDOS
0061   2???           00245     GOTO LOAD
                      00246     
Warning[207]: Found label after column 1. (EDITANDO_FECHA)
0062                  00247     EDITANDO_FECHA; SE ESTABA EDITANDO LA FECHA Y SE GUARDAN LOS VALORES ESTABLECIDOS
0062   08??           00248     MOVF    MES_BCD_EDITAR,W
0063   00??           00249     MOVWF   MES_BCD
0064   08??           00250     MOVF    DIA_EDITAR,W
0065   00??           00251     MOVWF   DIA
0066   08??           00252     MOVF    MES_BIN_EDITAR,W
0067   00??           00253     MOVWF   MES_BIN
0068   2???           00254     GOTO LOAD
                      00255     
Warning[207]: Found label after column 1. (EDITANDO_TIMER)
0069                  00256     EDITANDO_TIMER
0069   1512           00257     BSF T2CON,2 ;SE ENCIENDE EL TEMPORIZADOR
006A   08??           00258     MOVF    SEGUNDOS_TEMPORIZADOR_EDITAR,W
006B   00??           00259     MOVWF   SEGUNDOS_TEMPORIZADOR
006C   08??           00260     MOVF   MINUTOS_TEMPORIZADOR_EDITAR,W
006D   00??           00261     MOVWF   MINUTOS_TEMPORIZADOR
                      00262     
006E                  00263 TMR2_INT:
006E   108C           00264     BCF PIR1,1 ;SE LIMPIA
006F   0B??           00265     DECFSZ    CONTADOR_TMR2,F
0070   2???           00266     GOTO    LOAD
                      00267     
0071   3032           00268     MOVLW   VALOR_CONTADOR_TMR2
0072   00??           00269     MOVWF   CONTADOR_TMR2
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0073   0B??           00270     DECFSZ    SEGUNDOS_TEMPORIZADOR,F
0074   2???           00271     GOTO    FUNCIONAMIENTO_NORMAL_TEMPORIZADOR
                      00272       ;--------- SE VERIFICA SE SE AGOTO EL TIEMPO ----------------
0075   3000           00273     MOVLW   .0
0076   02??           00274     SUBWF   MINUTOS_TEMPORIZADOR,W ;LA UNICA FORMA DE QUE ESTO DE 0 ES SI MINUTOS ES 0
0077   1D03           00275     BTFSS   STATUS,2 ;1 SI LO ANTERIOR DA 0
0078   2???           00276     GOTO  FUNCIONAMIENTO_NORMAL_TEMPORIZADOR
                      00277     ;SI ES CERO ESTO PASA
0079   1700           00278     BSF FLAGS,6 ;SUENA LA ALARMA DEL TEMPORIZADOR
007A   1112           00279     BCF T2CON,2 ; SE APAGA EL TMR2
007B   0191           00280     CLRF        TMR2 ;SE LIMPIA EL REGISTRO DEL TMR2
007C   01??           00281     CLRF    SEGUNDOS_TEMPORIZADOR
007D   2???           00282     GOTO LOAD ;SE SALE DE LA INTERRUPCION
                      00283     
Warning[207]: Found label after column 1. (FUNCIONAMIENTO_NORMAL_TEMPORIZADOR)
Warning[208]: Label truncated at 32 characters. (FUNCIONAMIENTO_NORMAL_TEMPORIZADOR)
007E                  00284     FUNCIONAMIENTO_NORMAL_TEMPORIZADOR
                      00285     ;--- SE VERIFICA SI PASA DE 00 A 59
007E   30FF           00286     MOVLW .255 
007F   02??           00287     SUBWF   SEGUNDOS_TEMPORIZADOR,W
0080   1D03           00288     BTFSS   STATUS,2 ; SI DA 0 ES QUE SI SE PASO DE 00 A 59
0081   2???           00289     GOTO LOAD
                      00290     
0082   3059           00291     MOVLW B'01011001' ;59 EN BCD
0083   00??           00292     MOVWF   SEGUNDOS_TEMPORIZADOR
                      00293   
                      00294     
                      00295     
                      00296     
Warning[207]: Found label after column 1. (DECREMENTAR_MINUTOS_TEMPORIZADOR)
0084                  00297     DECREMENTAR_MINUTOS_TEMPORIZADOR
                      00298     ;------- SI NO SE ACABO EL TIEMPO DE DECREMENTAN LOS MINUTOS
Message[305]: Using default destination of 1 (file).
0084   03??           00299     DECF    MINUTOS_TEMPORIZADOR 
                      00300     
                      00301     ;LA CORRECCION DE LA CODIFICACION EN BCD SE SE REALIZA EN EN LOOP PRINCIPAL
                      00302     
                      00303     
0085                  00304 LOAD:
0085   0E??           00305     SWAPF STATUSRAM,W
0086   0083           00306     MOVWF   STATUS
0087   0E??           00307     SWAPF   WRAM,F
0088   0E??           00308     SWAPF   WRAM,W
0089   0009           00309     RETFIE
                      00310 
                      00311     ;----------------------- TABLAS --------------------------------------------------------------------
                            ----------------------
Warning[207]: Found label after column 1. (TABLA)
008A                  00312  TABLA:
008A   0782           00313     ADDWF   PCL,F
008B   3477           00314     RETLW B'01110111'  ; 0  EN EL DISPLAY
008C   3441           00315     RETLW B'01000001' ;1
008D   343B           00316     RETLW B'00111011' ;2
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

008E   346B           00317     RETLW B'01101011';3
008F   344D           00318     RETLW B'01001101';4
0090   346E           00319     RETLW   B'01101110' ;5
0091   347E           00320     RETLW B'01111110' ;6
0092   3443           00321     RETLW   B'01000011' ;7
0093   347F           00322     RETLW   B'01111111';8
0094   346F           00323     RETLW   B'01101111';9
                      00324     
0095                  00325 TABLA_MESES:
0095   1880           00326     BTFSC   FLAGS, 1; SI SE ESTA EN MODO EDICION SE  PASA ESTE VALOR 
0096   08??           00327     MOVF    MES_BIN_EDITAR,W
0097   1C80           00328     BTFSS   FLAGS,1 ; SI SE ESTA EN MODO VISUALIZACION SE PASA ESTE VALOR 
0098   08??           00329     MOVF    MES_BIN,W
0099   0782           00330     ADDWF   PCL,F
009A   0000           00331     NOP ; VARIABLE PARA 0 (EN FUNCIONAMIENTO NORMAL NO DEBERIA EJECUTARSE)
009B   3432           00332     RETLW   B'00110010'  ;32 EN BCD  ENERO
009C   3429           00333     RETLW   B'00101001' ;29 EN BCD FEBRERO
009D   3432           00334     RETLW   B'00110010'  ;32 EN BCD  MARZO
009E   3431           00335     RETLW   B'00110001' ;31 EN BCD ABRIL
009F   3432           00336     RETLW   B'00110010'  ;32 EN BCD  MAYO
00A0   3431           00337     RETLW   B'00110001' ;31 EN BCD JUNIO
00A1   3432           00338     RETLW   B'00110010'  ;32 EN BCD  JULIO
00A2   3432           00339     RETLW   B'00110010'  ;32 EN BCD  AGOSTO
00A3   3431           00340     RETLW   B'00110001' ;31 EN BCD SEPTIEMBRE
00A4   3432           00341     RETLW   B'00110010'  ;32 EN BCD  OCTUBRE
00A5   3431           00342     RETLW   B'00110001' ;31 EN BCD NOVIEMBRE
00A6   3432           00343     RETLW   B'00110010'  ;32 EN BCD  DICIEMBRE    
                      00344     
                      00345 ;*******************************************************************************
                      00346 ; MAIN PROGRAM
                      00347 ;*******************************************************************************
                      00348 
                      00349 MAIN_PROG CODE                      ; let linker place main program
                      00350 
0000                  00351 START:
0000   1703           00352     BSF STATUS,6
0001   1683           00353     BSF STATUS,5 ;BANCO 3
                      00354     
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0002   0188           00355     CLRF    ANSEL
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0003   0189           00356     CLRF    ANSELH ;PUERTOS A, E Y B COMO I/O DIGITALES
                      00357     
                      00358     
0004   1303           00359     BCF STATUS,6; BANCO 1 
                      00360 
                      00361     
0005   30FF           00362     MOVLW   .255
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0006   0086           00363     MOVWF   TRISB ;PUERTO B COMO ENTRADA DIGITAL
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0007   0185           00364     CLRF   TRISA ;PUERTO A COMO SALIDA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0008   0189           00365     CLRF    TRISE ;PUERTO E COMO SALIDA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0009   0187           00366     CLRF    TRISC  ;PUERTO C, PARA EL DISPLAY
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000A   0188           00367     CLRF    TRISD ;PUERTO D, PARA CONTROLAR LOS DISPLAYS
                      00368     
000B   3003           00369     MOVLW   B'00000011' ;PULL UPS ACTIVAS, PRESCALER DE 1:16 ASIGNADO AL TMR0 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000C   0081           00370     MOVWF   OPTION_REG ;
000D   3003           00371     MOVLW   B'0000011' ;TMR2 Y TMR1 INTERUPCCION ACTIVADA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
000E   008C           00372     MOVWF   PIE1
                      00373     
000F   307D           00374     MOVLW   VALOR_TMR2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0010   0092           00375     MOVWF   PR2 ;CUENTA 125 VECES SE EJECUTA LA INTERRUPCION CADA 20mS
                      00376     
0011   30E0           00377     MOVLW   B'11100000' ;INTERRUPCIONES ACTIVADAS, TMR0 INTERRUPCION ACTIVADA, PORTB INT ACTIVADA
0012   008B           00378     MOVWF   INTCON
                      00379     
                      00380     
0013   1283           00381     BCF STATUS,5 ;BANCO 0
                      00382     
0014   3060           00383     MOVLW   B'01100000' ;APAGADO, GATE MODE ES ACTIVE LOW, Y CON PREESCALER DE 1:4
0015   0090           00384     MOVWF   T1CON ;SE USARA PARA EL PARPADEO DE LOS DISPLAY CUANDO SE ESTE EN MODO DE EDICION
0016   304A           00385     MOVLW B'1001010'
0017   0092           00386     MOVWF   T2CON ;PRESSCALER 16 POST ESCALER DE 10 SE USA PARA EL CRONOMETRO OVERFLOW CADA 20mS
                      00387     
0018   0188           00388     CLRF  PORTD
0019   0187           00389     CLRF    PORTC
001A   0189           00390     CLRF    PORTE
001B   3006           00391     MOVLW  VALOR_TMR0;CUENTA DEL TMR0 INICIA EN 131 PARA QUE LA INTERRUPCION SE EJECUTE CADA
001C   0081           00392     MOVWF   TMR0 ;4 ms 
001D   300B           00393     MOVLW   VALOR_TMR1H
001E   008F           00394     MOVWF   TMR1H
001F   30DC           00395     MOVLW   VALOR_TMR1L
0020   008E           00396     MOVWF   TMR1L
                      00397     
0021   303F           00398     MOVLW   VALOR_LED
0022   00??           00399     MOVWF   CUENTALED
0023   30FA           00400     MOVLW  VALOR_CUENTATMR0
0024   00??           00401    MOVWF    CUENTATMR0
0025   01??           00402     CLRF        SEGUNDOS
0026   01??           00403     CLRF    MINUTOS
0027   01??           00404     CLRF    HORAS
0028   01??           00405     CLRF    FLAGS
0029   01??           00406     CLRF    MINUTOS_TEMPORIZADOR
002A   01??           00407     CLRF    SEGUNDOS_TEMPORIZADOR
002B   30FF           00408     MOVLW   .255
002C   00??           00409     MOVWF          PORTB_ACTUAL
002D   00??           00410     MOVWF    PORTB_ANTERIOR
                      00411     
002E   3002           00412     MOVLW   VALOR_TMR1
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

002F   00??           00413     MOVWF   CONTADOR_TMR1
                      00414     
0030   3001           00415     MOVLW   B'00000001'
0031   00??           00416     MOVWF   CONTROL_DISPLAY
0032   00??           00417     MOVWF   OPCION
0033   00??           00418    MOVWF   DIA
0034   00??           00419     MOVWF   MES_BCD
0035   00??           00420     MOVWF   MES_BIN
0036   307D           00421     MOVLW   VALOR_BUZZER
0037   00??           00422     MOVWF   CONTADOR_BUZZER
0038   3032           00423     MOVLW   VALOR_CONTADOR_TMR2
0039   00??           00424     MOVWF   CONTADOR_TMR2
003A   0085           00425     MOVWF   PORTA
                      00426     
                      00427     
003B   303C           00428    MOVLW    VALOR_SEGUNDOS_ALARMA
003C   00??           00429    MOVWF    SEGUNDOS_ALARMA
003D   30FA           00430     MOVLW   VALOR_CONTADOR_ALARMA
003E   00??           00431     MOVWF   CONTADOR_ALARMA
003F                  00432 LOOP:
                      00433     ;-------------------------------------- CONTROL DE LA HORA Y FECHA DEL RELOJ -----------------------
                            --------------------
003F   303C           00434     MOVLW .60
0040   02??           00435     SUBWF   SEGUNDOS,W
0041   1903           00436     BTFSC       STATUS,2    ;SI SE CONTO 1 SEGUNDO SE EJECUTA 
0042   2???           00437     CALL VALOR_RELOJ
0043   1800           00438     BTFSC   FLAGS,0 ; SI SE ACTIVA LA BANDERA DE FECHA ENTONCES SE CAMBIA LA FECHA
0044   2???           00439     CALL VALOR_FECHA
                      00440     ;-------------------------------------- CONTROL DEL TEMPORIZADOR -----------------------------------
                            ------------------------
0045   1912           00441     BTFSC  T2CON,2 ;SE VERIFICA QUE EL TEMPORIZADOR ESTE EN FUNCIONAMIENTO
0046   2???           00442     CALL    VALOR_TEMPORIZADOR
                      00443     ;---------------------------------------------------------------------------------------------------
                            ----------------------------------------
                      00444         ; ----------CONTROL DE LA PRSISTENCIA DE VISION PARA LOS DISPLAYS-------------------------------
                            --------
0047   3E00           00445     ADDLW   .0 ;SE ASEGURA QUE EL BIT CARRY DE STATUS ESTE EN 0 PARA QUE EL CORRIEMENTO DE BIS SEA 
0048   1D80           00446     BTFSS       CONTROL_DISPLAY,3
0049   2???           00447     GOTO    NORMAL
                      00448    
004A   01??           00449     CLRF    CONTROL_DISPLAY
004B   30FF           00450     MOVLW   .255
004C   3E01           00451     ADDLW   .1
                      00452 
Warning[207]: Found label after column 1. (NORMAL)
004D                  00453     NORMAL
Message[305]: Using default destination of 1 (file).
004D   0D??           00454     RLF CONTROL_DISPLAY ;SE CORREN 1 ESPACIO A LA IZQUIERDA LOS BITS
                      00455    ;----------------------------------------------------------------------------------------------------
                            -------------------------------------
                      00456     ;---------------------------------------- LECTURA DEL PUERTOB --------------------------------------
                            --------------------------
                      00457     ;SI HAY UN FLANCO DE SUBIDA EN CUALQUIERA DE LOS PUERTOS ENTONCES SE CAMBIA DE OPCION
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

004E   08??           00458     MOVF    PORTB_ACTUAL,W
004F   00??           00459     MOVWF   PORTB_ANTERIOR
0050   2???           00460     CALL    DELAY_US ;DA TIEMPO A QUE LA SALIDA SE ESTABILICE
0051   0806           00461     MOVF    PORTB,W
0052   00??           00462     MOVWF   PORTB_ACTUAL
                      00463     ;------------------------ SE VERIFICA SI SE PRESIONO EL BOTON PARA ENTRAR EN MODO EDICION-----------
                            -
0053   1A80           00464     BTFSC   PORTB_ANTERIOR,5
0054   2???           00465    GOTO    ESTABLECER_OPCION
                      00466     
0055   1A80           00467     BTFSC   PORTB_ACTUAL,5
0056   1480           00468     BSF FLAGS,1
                      00469     ;------------------------SE VERIFICA SI SE PRESIONO EL BOTON PARA CAMBIAR DE OPCION ----------------
                            -----
Warning[207]: Found label after column 1. (ESTABLECER_OPCION)
0057                  00470     ESTABLECER_OPCION
                      00471     ;----------------------SE VERIFICA QUE NO SI SE ENCUENTRA EN EL MODO EDICION------------------------
                            ------
0057   1880           00472     BTFSC   FLAGS,1
0058   2???           00473     GOTO OPCIONES ;SI SE ENCUENTRA EN ESTE MODO NO SE ATIENDE A RB2 PARA EL CAMBIO DE MODO
                      00474     ;---------------------------------------------------------------------------------------------------
                            -------------------------------------
                      00475     ;----------------------------------- SI SE ENCUENTRA EN MODO VISUALIZACION -------------------------
                            --------------
                      00476     ;-------FLANCO DE SUBIDA EN RB2 -------
0059   1900           00477     BTFSC   PORTB_ANTERIOR,2 ;SI EL ANTERIOR ES 1 SE VERIFICA QUE EL VALOR ACTUAL SEA 0
005A   2???           00478     GOTO OPCIONES
                      00479     
005B   1D00           00480     BTFSS   PORTB_ACTUAL,2 ;SI ES 0 SE CAMBIA DE OPCION
005C   2???           00481     GOTO OPCIONES
                      00482     ;----------------------------------------------------
                      00483    ;------------- SE LLEGA A AQUI SI SE DETECTA UN FLANCO DE SUBIDA-------------------------------------
                            -----------
005D   1D00           00484     BTFSS   OPCION,2 ;SI ES 0 ES QUE TODAVIA NO SE HA ENTRADO A LA OPCION 3
005E   2???           00485     GOTO OPCIONES_NORMAL
                      00486     
005F   3001           00487     MOVLW .1
0060   00??           00488     MOVWF   OPCION
0061   2???           00489     GOTO OPCIONES
                      00490     
Warning[207]: Found label after column 1. (OPCIONES_NORMAL)
0062                  00491     OPCIONES_NORMAL
0062   3000           00492     MOVLW .0
0063   3E00           00493     ADDLW   .0 ;SE ASEGURA QUE EL BIT C DE STATUS ESTE EN 0
Message[305]: Using default destination of 1 (file).
0064   0D??           00494     RLF OPCION  
                      00495    ;----------------------------------------------------------------------------------------------------
                            -------------------------------------
0065                  00496 OPCIONES:
0065   08??           00497     MOVF    OPCION,W
0066   0085           00498     MOVWF   PORTA ;SE VISUALIZA QUE OPCION ESTA SELECCIONADA
0067   1800           00499     BTFSC   OPCION,0
0068   2???           00500     GOTO OPCION_RELOJ
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0069   1880           00501     BTFSC  OPCION,1
006A   2???           00502     GOTO OPCION_FECHA
006B   1900           00503     BTFSC   OPCION,2
006C   2???           00504     GOTO OPCION_TEMPORIZADOR
006D   2???           00505     GOTO LOOP
                      00506     
Warning[207]: Found label after column 1. (OPCION_RELOJ)
006E                  00507     OPCION_RELOJ:
                      00508     
                      00509     ;--------------- SE VERIFICA SI SE ENCUENTRA EN MODO EDITAR O NO------------------------------------
                            -----
006E   1C80           00510     BTFSS   FLAGS,1
006F   2???           00511     GOTO NO_EDITAR_HORA
0070   2???           00512     GOTO SI_EDITAR_HORA
                      00513     
Warning[207]: Found label after column 1. (NO_EDITAR_HORA)
0071                  00514     NO_EDITAR_HORA:
0071   08??           00515     MOVF    MINUTOS,W
0072   00??           00516     MOVWF   DISPLAY_1
0073   08??           00517     MOVF    HORAS,W
0074   00??           00518     MOVWF   DISPLAY_2
0075   2???           00519     CALL DISPLAY_NO_EDITAR
                      00520    
0076   2???           00521     GOTO    LOOP
                      00522     
Warning[207]: Found label after column 1. (SI_EDITAR_HORA)
0077                  00523     SI_EDITAR_HORA:
0077   2???           00524     CALL    EDITAR_HORA
0078   08??           00525     MOVF    MINUTO_EDITAR,W
0079   00??           00526     MOVWF   DISPLAY_1
007A   08??           00527     MOVF    HORA_EDITAR,W
007B   00??           00528     MOVWF   DISPLAY_2
007C   2???           00529     CALL DISPLAY_EDITAR
007D   2???           00530     GOTO LOOP
                      00531     
Warning[207]: Found label after column 1. (OPCION_FECHA)
007E                  00532     OPCION_FECHA:
007E   1C80           00533     BTFSS   FLAGS,1
007F   2???           00534     GOTO NO_EDITAR_FECHA
0080   2???           00535     GOTO SI_EDITAR_FECHA
                      00536     
Warning[207]: Found label after column 1. (NO_EDITAR_FECHA)
0081                  00537     NO_EDITAR_FECHA:
0081   08??           00538     MOVF    DIA,W
0082   00??           00539     MOVWF   DISPLAY_2
0083   08??           00540     MOVF    MES_BCD,W
0084   00??           00541     MOVWF   DISPLAY_1
0085   2???           00542      CALL DISPLAY_NO_EDITAR
                      00543     
0086   2???           00544      GOTO LOOP
                      00545     
Warning[207]: Found label after column 1. (SI_EDITAR_FECHA)
0087                  00546     SI_EDITAR_FECHA:
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0087   2???           00547     CALL EDITAR_FECHA
0088   08??           00548     MOVF    MES_BCD_EDITAR,W
0089   00??           00549     MOVWF   DISPLAY_1
008A   08??           00550     MOVF    DIA_EDITAR,W
008B   00??           00551     MOVWF   DISPLAY_2
008C   2???           00552     CALL DISPLAY_EDITAR
008D   2???           00553     GOTO LOOP
                      00554     
Warning[207]: Found label after column 1. (OPCION_TEMPORIZADOR)
008E                  00555     OPCION_TEMPORIZADOR:
008E   1C80           00556     BTFSS FLAGS,1
008F   2???           00557     GOTO    NO_EDITAR_TEMPORIZADOR
0090   2???           00558     GOTO    SI_EDITAR_TEMPORIZADOR
                      00559     
Warning[207]: Found label after column 1. (NO_EDITAR_TEMPORIZADOR)
0091                  00560     NO_EDITAR_TEMPORIZADOR:
0091   1880           00561     BTFSC PORTB_ANTERIOR,1 ;SI SE HACE UN FLANCO DE SUBIDA EN RB1 SE APAGA LA ALARMA
0092   2???           00562     GOTO SEGUIR_NO_EDITAR
                      00563     
0093   1C80           00564     BTFSS  PORTB_ACTUAL,1
0094   2???           00565     GOTO    SEGUIR_NO_EDITAR
                      00566     
0095   1300           00567     BCF FLAGS,6
0096   1089           00568     BCF PORTE,1
0097   30FA           00569     MOVLW   VALOR_CONTADOR_ALARMA
0098   00??           00570     MOVWF   CONTADOR_ALARMA
0099   303C           00571     MOVLW   VALOR_SEGUNDOS_ALARMA
009A   00??           00572     MOVWF   SEGUNDOS_ALARMA
                      00573     
Warning[207]: Found label after column 1. (SEGUIR_NO_EDITAR)
009B                  00574     SEGUIR_NO_EDITAR:
009B   08??           00575      MOVF    SEGUNDOS_TEMPORIZADOR,W
009C   00??           00576     MOVWF   DISPLAY_1
009D   08??           00577     MOVF    MINUTOS_TEMPORIZADOR,W
009E   00??           00578     MOVWF   DISPLAY_2
009F   2???           00579      CALL DISPLAY_NO_EDITAR
00A0   2???           00580     GOTO LOOP
                      00581     
Warning[207]: Found label after column 1. (SI_EDITAR_TEMPORIZADOR)
00A1                  00582     SI_EDITAR_TEMPORIZADOR:
00A1   2???           00583     CALL EDITAR_TEMPORIZADOR
00A2   08??           00584      MOVF    SEGUNDOS_TEMPORIZADOR_EDITAR,W
00A3   00??           00585     MOVWF   DISPLAY_1
00A4   08??           00586     MOVF    MINUTOS_TEMPORIZADOR_EDITAR,W
00A5   00??           00587     MOVWF   DISPLAY_2
00A6   2???           00588     CALL DISPLAY_EDITAR
                      00589     
00A7   2???           00590     GOTO LOOP
                      00591     
                      00592 
                      00593 ;------------------- SUBRUTINAS DE VISTA ------------------------------------------------
Warning[207]: Found label after column 1. (DISPLAY_NO_EDITAR)
00A8                  00594     DISPLAY_NO_EDITAR:
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00A8   1880           00595     BTFSC   CONTROL_DISPLAY,1
00A9   2???           00596     GOTO DISP_1_2
00AA   1900           00597     BTFSC   CONTROL_DISPLAY,2
00AB   2???           00598     GOTO DISP_2_1
00AC   1980           00599     BTFSC   CONTROL_DISPLAY,3
00AD   2???           00600     GOTO DISP_2_2
                      00601     ;SI NINGUNO DE LOS ANTERIORES SE DIO ES QUE SE TENIA QUE ENTRAR AQUI
00AE   08??           00602     MOVF    DISPLAY_1,W
00AF   390F           00603     ANDLW   B'00001111' ;SE CONSERVA EL NIBBLE MENOS SIGNFICATIVO
00B0   2???           00604     CALL TABLA
00B1   2???           00605     GOTO MOSTRAR_VALOR
                      00606     
Warning[207]: Found label after column 1. (DISP_1_2)
00B2                  00607     DISP_1_2
00B2   0E??           00608     SWAPF   DISPLAY_1,W 
00B3   390F           00609     ANDLW B'00001111'; SE CONSERVA EL VALOR DEL BIT MENOS SIGNIFICATIVO
00B4   2???           00610     CALL TABLA
00B5   2???           00611     GOTO MOSTRAR_VALOR
                      00612     
Warning[207]: Found label after column 1. (DISP_2_1)
00B6                  00613     DISP_2_1
00B6   08??           00614     MOVF DISPLAY_2,W
00B7   390F           00615     ANDLW   B'00001111'
00B8   2???           00616     CALL TABLA
00B9   2???           00617     GOTO MOSTRAR_VALOR
                      00618     
Warning[207]: Found label after column 1. (DISP_2_2)
00BA                  00619    DISP_2_2
00BA   0E??           00620    SWAPF   DISPLAY_2,W
00BB   390F           00621    ANDLW   B'00001111'
00BC   2???           00622    CALL TABLA
                      00623    
Warning[207]: Found label after column 1. (MOSTRAR_VALOR)
00BD                  00624     MOSTRAR_VALOR
00BD   0188           00625     CLRF    PORTD
00BE   0087           00626     MOVWF   PORTC
00BF   08??           00627     MOVF    CONTROL_DISPLAY,W
00C0   0088           00628     MOVWF   PORTD
00C1   0008           00629     RETURN
                      00630     
00C2                  00631 DISPLAY_EDITAR:
00C2   3000           00632     MOVLW .0 ;W SOLO SE SOBREESCRIBE SI EL DISPLAY TIENE QUE ESTAR ENCENDIDO
00C3   1880           00633     BTFSC   CONTROL_DISPLAY,1
00C4   2???           00634     GOTO DISPLAY_1_2_EDITAR
00C5   1900           00635     BTFSC   CONTROL_DISPLAY,2
00C6   2???           00636     GOTO DISPLAY_2_1_EDITAR
00C7   1980           00637     BTFSC   CONTROL_DISPLAY,3
00C8   2???           00638     GOTO DISPLAY_2_2_EDITAR
                      00639     
                      00640     ;SI SE LLEGA AQUI ES QUE ESTE ERA EL QUE SE TENIA QUE ENCENDER
00C9   1E00           00641     BTFSS   FLAGS,4
00CA   2???           00642     GOTO    DISPLAY_1_1_EDITAR_NORMAL
                      00643     
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00644     
00CB   1D00           00645     BTFSS   FLAGS,2
00CC   2???           00646     GOTO MOSTRAR_DISPLAY_EDITAR
Warning[207]: Found label after column 1. (DISPLAY_1_1_EDITAR_NORMAL)
00CD                  00647     DISPLAY_1_1_EDITAR_NORMAL
00CD   08??           00648     MOVF    DISPLAY_1,W
00CE   390F           00649     ANDLW   B'00001111' ;SE CONSERVA EL NIBBLE MENOS SIGNFICATIVO
00CF   2???           00650     CALL TABLA
00D0   2???           00651     GOTO MOSTRAR_DISPLAY_EDITAR
                      00652     
Warning[207]: Found label after column 1. (DISPLAY_1_2_EDITAR)
00D1                  00653     DISPLAY_1_2_EDITAR
00D1   1E00           00654      BTFSS   FLAGS,4
00D2   2???           00655     GOTO    DISPLAY_1_2_EDITAR_NORMAL
                      00656     
00D3   1D00           00657     BTFSS   FLAGS,2
00D4   2???           00658     GOTO MOSTRAR_DISPLAY_EDITAR
Warning[207]: Found label after column 1. (DISPLAY_1_2_EDITAR_NORMAL)
00D5                  00659     DISPLAY_1_2_EDITAR_NORMAL
00D5   0E??           00660     SWAPF   DISPLAY_1,W 
00D6   390F           00661     ANDLW B'00001111'; SE CONSERVA EL VALOR DEL BIT MENOS SIGNIFICATIVO
00D7   2???           00662     CALL TABLA
00D8   2???           00663     GOTO MOSTRAR_DISPLAY_EDITAR
                      00664     
Warning[207]: Found label after column 1. (DISPLAY_2_1_EDITAR)
00D9                  00665     DISPLAY_2_1_EDITAR
00D9   1E00           00666      BTFSS   FLAGS,4
00DA   2???           00667     GOTO    DISPLAY_2_1_EDITAR_NORMAL
                      00668     
00DB   1900           00669     BTFSC   FLAGS,2
00DC   2???           00670     GOTO MOSTRAR_DISPLAY_EDITAR ;SE APAGAN TODOS LOS BITS DEL PUERTO C
Warning[207]: Found label after column 1. (DISPLAY_2_1_EDITAR_NORMAL)
00DD                  00671     DISPLAY_2_1_EDITAR_NORMAL
00DD   08??           00672     MOVF DISPLAY_2,W
00DE   390F           00673     ANDLW   B'00001111'
00DF   2???           00674     CALL TABLA
00E0   2???           00675     GOTO MOSTRAR_DISPLAY_EDITAR
                      00676     
Warning[207]: Found label after column 1. (DISPLAY_2_2_EDITAR)
00E1                  00677     DISPLAY_2_2_EDITAR
00E1   1E00           00678     BTFSS   FLAGS,4
00E2   2???           00679     GOTO    DISPLAY_2_2_EDITAR_NORMAL
                      00680     
00E3   1900           00681     BTFSC   FLAGS,2
00E4   2???           00682     GOTO MOSTRAR_DISPLAY_EDITAR ;SE APAGAN TODOS LOS BITS DEL PUERTO C
Warning[207]: Found label after column 1. (DISPLAY_2_2_EDITAR_NORMAL)
00E5                  00683     DISPLAY_2_2_EDITAR_NORMAL
00E5   0E??           00684     SWAPF   DISPLAY_2,W
00E6   390F           00685     ANDLW   B'00001111'
00E7   2???           00686     CALL TABLA
                      00687     
Warning[207]: Found label after column 1. (MOSTRAR_DISPLAY_EDITAR)
00E8                  00688     MOSTRAR_DISPLAY_EDITAR
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00E8   0188           00689     CLRF    PORTD
00E9   0087           00690     MOVWF   PORTC
00EA   08??           00691     MOVF    CONTROL_DISPLAY,W
00EB   0088           00692     MOVWF   PORTD
00EC   0008           00693     RETURN
                      00694 ;--------------------- SUBRUTINAS PRA EL CONTROL DE LOS DATOS ------------------------------------------
                            ------------------
00ED                  00695 CORRECCION_BCD_AUMENTO:
                      00696     ;PARA ESTA RUTA SE USA EL PASO POR REFERENCIA DE PARAMETRO, USANDO EL DIRECCIONAMIENTO INDIRECTO
00ED   1080           00697     BCF FLAGS_2,1 ;PARA QUE NO SE TENGA QUE LIMPIAR DE FORMA EXTERNA
00EE   0800           00698     MOVF    INDF,W ;VALOR AL QUE APUNTA EL SFR SE MUEVE W 
00EF   390F           00699     ANDLW   B'00001111' ;SE QUEDA CON EL DIGITO MENOR
00F0   3C0A           00700     SUBLW   .10 ;SI ES 10 ES QUE SE DEBE DE CORREGIR
00F1   1D03           00701     BTFSS   STATUS,2
00F2   0008           00702     RETURN
                      00703     
00F3   1480           00704     BSF FLAGS_2,1 ;SE INDICA QUE SE TUVO QUE REALIZAR LA CORRECCION
00F4   3006           00705     MOVLW   .6 
00F5   0780           00706     ADDWF   INDF,F ;SE LE SUMA 6 PARA CORREGIR
00F6   0008           00707     RETURN ;SE REGRESA
                      00708 
00F7                  00709 CORRECCION_BCD_DISMINUCION:
                      00710     ;PARA ESTA RUTA SE USA EL PASO POR REFERENCIA DE PARAMETRO, USANDO EL DIRECCIONAMIENTO INDIRECTO
00F7   1000           00711     BCF FLAGS_2,0 ;PARA QUE NO SE TENGA QUE LIMPIAR DE FORMA EXTERNA
00F8   0800           00712     MOVF    INDF,W ;VALOR AL QUE APUNTA EL SFR SE MUEVE W 
00F9   390F           00713     ANDLW   B'00001111' ;SE QUEDA CON EL DIGITO MENOR
00FA   3C0F           00714     SUBLW   .15 ;SI ES 15 ES QUE SE DEBE DE CORREGIR
00FB   1D03           00715     BTFSS   STATUS,2
00FC   0008           00716     RETURN
                      00717     
00FD   1400           00718     BSF FLAGS_2,0 ;SE INDICA QUE SE TUVO QUE REALIZAR LA CORRECCION
00FE   3006           00719     MOVLW   .6 
00FF   0280           00720     SUBWF   INDF,F ;SE LE RESTA 6 PARA CORREGIR
0100   0008           00721     RETURN ;SE REGRESA
                      00722     
0101                  00723 VALOR_TEMPORIZADOR: ;EN ESTA SUBRUTINA UNICAMENTE SE CORRIGEN LOS VALORES BCD
                      00724     ;EL VALOR DE LA VARIABLE SEGUNDOS SE DISMINUYE EN LA INTERRUPCION DEL TMR2 AQUI SE CORRIGE EL BCD
0101   30??           00725     MOVLW   SEGUNDOS_TEMPORIZADOR
0102   0084           00726     MOVWF   FSR ;SE PASA LA DIRECCION DE ESTA VARIABLE A SFR PARA EL PASO POR REFERENCIA
0103   2???           00727     CALL    CORRECCION_BCD_DISMINUCION ;SE CORRIGE EL BCD DE SEGUNDOS
                      00728    
0104   30??           00729     MOVLW MINUTOS_TEMPORIZADOR
0105   0084           00730     MOVWF   FSR ;PASO POR REFERENCIA
0106   2???           00731     CALL    CORRECCION_BCD_DISMINUCION ;SE CORRIGE EL BCD
0107   0008           00732     RETURN 
                      00733 ; SUBRUTINA ENCARGADA DE REALIZAR EL CONTROL DE LA HORA Y LA FECHA DEL RELOJ
0108                  00734 VALOR_FECHA:
0108   1000           00735     BCF FLAGS,0 ;SE APAGA LA BANDERA DE CAMBIO DE FECHA
0109   0A??           00736     INCF    DIA,F ;SE AUMENTA EL VALOR
                      00737    
010A   30??           00738     MOVLW   DIA
010B   0084           00739     MOVWF   FSR ;PASO POR REFERENCIA
010C   2???           00740     CALL    CORRECCION_BCD_AUMENTO ;SE CORRIGE LA CODIFICACION BCD
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00741     ;AQUI SE VERIFICA SI EL NUEVO VALOR PARA EL DIA ES VALIDO O SI YA SE ENCUENTRA EN EL MES SIGUIENTE
010D   2???           00742     CALL TABLA_MESES
010E   02??           00743     SUBWF   DIA,W
010F   1D03           00744     BTFSS   STATUS,2 ;SI LO ANTERIOR DA 0 SE SALTA LA SIGUENTE INSTRUCCION
0110   0008           00745     RETURN
                      00746     ;SI  SE SALTA AQUI SIGUE
0111   3001           00747     MOVLW   .1
0112   00??           00748     MOVWF   DIA
0113   0A??           00749     INCF    MES_BIN,F
0114   0A??           00750     INCF    MES_BCD,F
                      00751     ;SE CORRIGE EL BCD SI ES NECESARIO
0115   30??           00752     MOVLW   MES_BCD
0116   0084           00753     MOVWF   FSR ;PASO POR REFERENCIA
0117   2???           00754     CALL    CORRECCION_BCD_AUMENTO ;SE CORRIGE
                      00755     ;SE VERIFICA QUE NO SE PASE DE 12 MESES
0118   300D           00756     MOVLW   .13
0119   02??           00757     SUBWF   MES_BIN,W
011A   1D03           00758     BTFSS   STATUS,2 ;SI DA 0 SE SALTA LA SIGUEINTE INSTRUCCION 
011B   0008           00759     RETURN
                      00760     ;SE REINICIA LA CUENTA
011C   3001           00761     MOVLW .1
011D   00??           00762     MOVWF   MES_BIN
011E   00??           00763     MOVWF   MES_BCD
011F   0008           00764     RETURN ;FIN DEL VALOR FECHA
                      00765 ;SE CONTROLA EN VALOR DEL RELOJ
0120                  00766 VALOR_RELOJ:
0120   0A??           00767     INCF    MINUTOS,F
0121   01??           00768     CLRF    SEGUNDOS
                      00769     
0122   30??           00770     MOVLW   MINUTOS
0123   0084           00771     MOVWF   FSR ;PASO POR REFERENCIA DE LA VARIABLE
0124   2???           00772     CALL    CORRECCION_BCD_AUMENTO ;SE CORRIGE
                      00773     ;SE VERIFICA QUE LLEGUE A 60 
0125   3060           00774     MOVLW B'01100000' ;60 EN BCD
0126   02??           00775     SUBWF  MINUTOS,W
0127   1D03           00776     BTFSS   STATUS,2 
0128   0008           00777     RETURN ;SI NO ES 60 NO ES NECESARIO SUMAR 1 A LAS HORAS
                      00778     ; SI SI LLEGO A 60 SE INCREMENTAN LAS HORAS 
0129   01??           00779     CLRF    MINUTOS
012A   0A??           00780     INCF    HORAS, F
                      00781     ;SE VERIFICA QUE NO SE LLEGE A 24
012B   3024           00782     MOVLW B'00100100' ;24 EN BCD
012C   02??           00783     SUBWF   HORAS,W
012D   1D03           00784     BTFSS  STATUS, 2 ;SI LLEGA A ESTO SE LIMPIA EL VALOR DE HORAS Y TERMINA LA RUTINA
012E   2???           00785     GOTO CORRECCION_HORA
                      00786     
012F   01??           00787     CLRF    HORAS
0130   1400           00788     BSF FLAGS,0 ;ESTE BIT INDICA QUE HAY QUE INCREMENTAR LA FECHA
0131   0008           00789     RETURN ;SI ES 24 SE SABE QUE NO ES NECESARIO CORREGIR LA CODIFICACION BCD
                      00790     
Warning[207]: Found label after column 1. (CORRECCION_HORA)
0132                  00791     CORRECCION_HORA
0132   30??           00792     MOVLW  HORAS
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0133   0084           00793     MOVWF   FSR ;PASO POR REFERNCIA
0134   2???           00794     CALL    CORRECCION_BCD_AUMENTO ;SE CORRIGE EL BCD
0135   0008           00795     RETURN ;FIN DE LA CORRECCION
                      00796 
0136                  00797 EDITAR_HORA:
                      00798     ;CUANDO SE ENTRA EN ESTE MODO RB2 REALIZA LA FUNCION DE SELECTOR DE EDICION DE HORA O MINUTO
                      00799     ;RB5 DETERMINA CUANDO SE SALE DE ESTE MODO, 
0136   1980           00800     BTFSC   FLAGS,3
0137   2???           00801     GOTO SI_YA_SE_ENTRO_ANTES
                      00802     ;-----------------SE ENTRA A ESTA PARTE SOLO CUANDO ES LA PRIMERA VEZ ------------------------------
                            --------------
0138   1580           00803     BSF FLAGS,3 ;PARA QUE NO SE VUELVA A ENTRAR AQUI HASTA QUE SE SALGA DEL MODO EDICION
0139   08??           00804     MOVF    HORAS,W
013A   00??           00805     MOVWF   HORA_EDITAR
                      00806     
013B   1410           00807     BSF T1CON,0 ;SE ACTIVA EL TIMER 1
                      00808     
013C   08??           00809     MOVF    MINUTOS,W
013D   00??           00810     MOVWF   MINUTO_EDITAR ;SE GUARDAN LOS VALORES EN EL INSTANTE QUE SE ENTRA AL MODO DE EDICION
                      00811    
013E   08??           00812     MOVF    PORTB_ACTUAL,W ; SE ACTUALIZAN ESTOS REGISTROS YA QUE SI NO SE HACE, AL SER LA CONDICION
013F   00??           00813     MOVWF   PORTB_ANTERIOR ;DE ENTRADA IGUAL QUE LA DE SALIDA, SOLO SE VA A EJECUTAR 1 VEZ
0140   2???           00814      CALL    DELAY_US ;DA TIEMPO A QUE LA SALIDA SE ESTABILICE
0141   0806           00815     MOVF    PORTB,W
0142   00??           00816     MOVWF   PORTB_ACTUAL
                      00817     ;---------------------------------------------------------------------------------------------------
                            --------------------------------
Warning[207]: Found label after column 1. (SI_YA_SE_ENTRO_ANTES)
0143                  00818     SI_YA_SE_ENTRO_ANTES
                      00819     ;-------------------- SE EVITA EL PARPADEO DE LOS LEDS DEL CENTRO ----------------------------------
                            ------
0143   1509           00820     BSF PORTE,2
                      00821     ;--------------------------------- SE REVISAN LOS FLANCOS DE SUBIDA --------------------------------
                            ---------
0144   2???           00822    CALL FLANCO_SUBIDA_RB0
0145   2???           00823    CALL FLANCO_SUBIDA_RB1 ;SE MIRA SI HUBO UN FLANCO EN AUMENTAR O DISMINUIR
                      00824     ;---------------------------------------------------------------------------------------------------
                            ----------------------------
                      00825     ;SE HACE EL CAMBIO ENTRE 0 O 1 PARA EL VALOR A EDITAR (SE VERIFICA QUE HAYA OCURRIDO FLANCO DE SUBID
                            A)
0146   2???           00826    CALL FLANCO_SUBIDA_RB2
0147   1E00           00827    BTFSS    FLAGS_2,4 ;SI ESTE ES 1 ES QUE SI HUBO FLANCO DE SUBIDA
0148   2???           00828    GOTO CAMBIAR
                      00829     ;---------SE HACE EL CAMBIO DEL VALOR A EDITAR -----------------
0149   1D00           00830     BTFSS   FLAGS,2 ;SE VE SI ESTA EN 1
014A   2???           00831     GOTO CAMBIAR_0
                      00832     
014B   1100           00833     BCF FLAGS,2 ;SE  LIMPIA SI ESTA EN 1
014C   2???           00834     GOTO    CAMBIAR
Warning[207]: Found label after column 1. (CAMBIAR_0)
014D                  00835     CAMBIAR_0  ;SI NO ESTA EN 1 ESTA EN CERO ENTONCES 
014D   1500           00836     BSF FLAGS,2 
                      00837     ;-------------------------------------------------------------------------------------------
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[207]: Found label after column 1. (CAMBIAR)
014E                  00838     CAMBIAR
014E   1900           00839     BTFSC   FLAGS,2 ; SE VE SI LA EDICION ESTA EN HORAS(1) O MINUTOS(0)
014F   2???           00840     GOTO EDIT_HOUR
                      00841     
                      00842     
Warning[207]: Found label after column 1. (EDIT_MINUTE)
0150                  00843     EDIT_MINUTE
0150   1D00           00844     BTFSS   FLAGS_2,2 ; SI ESTA BANDERA ESTA EN 1 ES QUE HUBO FLANCO DE SUBIDA
0151   2???           00845     GOTO INCREMENTAR_MINUTE
                      00846     ;--------SI HUBO UN FLANCO DE SUBIDA SE EN RB0 SE EJECUTA ESTO  DECREMENTAR ---------------
0152   03??           00847     DECF    MINUTO_EDITAR,F
                      00848     ;------------SE CORRIGE EL BCD DE LOS MINUTOS--------------------
                      00849     ;PRIMERO SE VERIFICA SI SE PASO DE 00 A 59
0153   30FF           00850     MOVLW .255 ;ESTE VALOR HABRIA SI SE LE RESTA 1 A 0X00H 
0154   02??           00851     SUBWF   MINUTO_EDITAR,W
0155   1D03           00852     BTFSS   STATUS,2 ;SI ES 1 SE SALTA EL GOTO
0156   2???           00853     GOTO    CORREGIR_BCD_MINUTO_EDITAR
                      00854     
0157   3059           00855     MOVLW   B'01011001' ;59 EN BCD
0158   00??           00856     MOVWF   MINUTO_EDITAR
                      00857     
Warning[207]: Found label after column 1. (CORREGIR_BCD_MINUTO_EDITAR)
0159                  00858     CORREGIR_BCD_MINUTO_EDITAR
0159   30??           00859      MOVLW   MINUTO_EDITAR
015A   0084           00860     MOVWF   FSR ;PASO POR REFERENCIA
015B   2???           00861     CALL    CORRECCION_BCD_DISMINUCION
                      00862     
Warning[207]: Found label after column 1. (INCREMENTAR_MINUTE)
015C                  00863     INCREMENTAR_MINUTE
                      00864     ;---------------------- SE VERIFICA SI SE DEBE INCREMENTAR -------------------------
015C   1D80           00865     BTFSS   FLAGS_2,3
015D   2???           00866     GOTO SALIR
                      00867     ;----------- SI SE LLEGA HASTA AQUI ES QUE SE DEBIA INCREMENTAR ----------------------
015E   0A??           00868     INCF    MINUTO_EDITAR,F
                      00869     ;----------------CORRECION DE BCD CUANDO SE PASA DE X9 A (X+1)0
015F   30??           00870      MOVLW   MINUTO_EDITAR
0160   0084           00871     MOVWF   FSR ;PASO POR REFERENCIA
0161   2???           00872     CALL    CORRECCION_BCD_AUMENTO
                      00873     ;-----------------VERIFICAR SI SE PASA DE 59 A 00
0162   3060           00874     MOVLW B'01100000' ;60 EN BCD
0163   02??           00875     SUBWF   MINUTO_EDITAR,W
0164   1903           00876     BTFSC   STATUS,2 ;SI DA 0 SE REINICIA
0165   01??           00877     CLRF    MINUTO_EDITAR
                      00878     
0166   2???           00879     GOTO SALIR 
                      00880     
Warning[207]: Found label after column 1. (EDIT_HOUR)
0167                  00881     EDIT_HOUR
                      00882     ;SI HUBO UN FLANCO DE SUBIDA EN RB0 SE DECREMENTA EN 1 LAS HORAS
                      00883     ;------SE VERIFICA SI SE DEBE DECREMENTAR------------------
0167   1D00           00884     BTFSS   FLAGS_2, 2 ;RB0
0168   2???           00885     GOTO    INCREMENTAR_HOUR
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00886     ;--------SI HUBO UN FLANCO DE SUBIDA SE EN RB0 SE EJECUTA ESTO ---------------
0169   03??           00887     DECF    HORA_EDITAR,F
                      00888     ;--- CORRECCION DEL BCD ----------
                      00889     ;PRIMERO SE VERIFICA SI SE PASO DE 00 A 24
016A   30FF           00890     MOVLW .255 ;ESTE VALOR HABRIA SI SE LE RESTA 1 A 0X00H 
016B   02??           00891     SUBWF   HORA_EDITAR,W
016C   1D03           00892     BTFSS   STATUS,2 ;SI ES 1 SE SALTA EL GOTO
016D   2???           00893     GOTO    CORREGIR_BCD_HORA_EDITAR
                      00894     
016E   3023           00895     MOVLW   B'00100011' ;23 EN BCD
016F   00??           00896     MOVWF   HORA_EDITAR
                      00897     ;---------------------------------------------------------------------------------------------------
                            ------------------
Warning[207]: Found label after column 1. (CORREGIR_BCD_HORA_EDITAR)
0170                  00898     CORREGIR_BCD_HORA_EDITAR
0170   30??           00899      MOVLW   HORA_EDITAR
0171   0084           00900     MOVWF   FSR ;PASO POR REFERENCIA
0172   2???           00901     CALL    CORRECCION_BCD_DISMINUCION
                      00902     ;---------------------------------------------------------------------------------------------------
                            ----------------
Warning[207]: Found label after column 1. (INCREMENTAR_HOUR)
0173                  00903     INCREMENTAR_HOUR
                      00904     ;---------------SE VERIFICA SI SE DEBE INCREMENTAR-----------------------------------------------
0173   1D80           00905     BTFSS FLAGS_2,3
0174   2???           00906     GOTO SALIR
                      00907     ;----------- SI SE LLEGA HASTA AQUI ES QUE SE DEBIA INCREMENTAR ----------------------
0175   0A??           00908     INCF    HORA_EDITAR,F
                      00909     
                      00910     ;----------------CORRECION DE BCD CUANDO SE PASA DE X9 A (X+1)0
0176   30??           00911      MOVLW   HORA_EDITAR
0177   0084           00912     MOVWF   FSR ;PASO POR REFERENCIA
0178   2???           00913     CALL    CORRECCION_BCD_AUMENTO
                      00914     ;-----------------VERIFICAR SI SE PASA DE 23 A 00
0179   3024           00915     MOVLW B'00100100' ;24 EN BCD
017A   02??           00916     SUBWF   HORA_EDITAR,W
017B   1903           00917     BTFSC   STATUS,2 ;SI DA 0 SE REINICIA
017C   01??           00918     CLRF    HORA_EDITAR
                      00919     ;------- LUEGO DE TODO SE LLEGA A ESTE PUNTO --------------------------------------------------
Warning[207]: Found label after column 1. (SALIR)
017D                  00920     SALIR 
                      00921     ;------- SE VERIFICA QUE SI SE HA SALIDO SOLO PULSANDO EL BOTON (SALIDA SIN GUARDAR DATOS)--------
017D   2???           00922     CALL    FLANCO_SUBIDA_RB5
017E   1E80           00923     BTFSS   FLAGS_2,5 ;RB5
017F   0008           00924     RETURN
                      00925     ;-------------- SI HUBO FLANCO DE SUBIDA SE LLEGA A ESTE PUNTO -----------------------------------
0180   1180           00926     BCF FLAGS,3 ;SE DESHABILITA EL BIT DE VERIFICACION DE PRIMERA VEZ ENTRANDO A EDITAR HORA
0181   1100           00927     BCF FLAGS,2 ;SE COLOCA EN EDITAR MINUTO/MES 
0182   1080           00928     BCF FLAGS,1 ;SE DESHABILITA EL MODO DE EDICION
                      00929     ;REINICIO DEL TMR1
0183   300B           00930    MOVLW   VALOR_TMR1H
0184   008F           00931    MOVWF   TMR1H
0185   30DC           00932    MOVLW   VALOR_TMR1L
0186   008E           00933     MOVWF   TMR1L
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0187   3002           00934     MOVLW   VALOR_TMR1
0188   00??           00935     MOVWF   CONTADOR_TMR1
0189   1010           00936     BCF T1CON,0 ;SE APAGA EL TMR1
018A   0008           00937     RETURN 
                      00938     
018B                  00939 EDITAR_FECHA:
                      00940         ;CUANDO SE ENTRA EN ESTE MODO RB2 REALIZA LA FUNCION DE SELECTOR DE EDICION DE HORA O MINUTO
                      00941     ;RB5 DETERMINA CUANDO SE SALE DE ESTE MODO, 
018B   1980           00942     BTFSC   FLAGS,3
018C   2???           00943     GOTO SI_YA_SE_ENTRO_ANTES_FECHA
                      00944     ;-----------------SE ENTRA A ESTA PARTE SOLO CUANDO ES LA PRIMERA VEZ ------------------------------
                            --------------
018D   1580           00945     BSF FLAGS,3 ;PARA QUE NO SE VUELVA A ENTRAR AQUI HASTA QUE SE SALGA DEL MODO EDICION
018E   08??           00946     MOVF    DIA,W
018F   00??           00947     MOVWF   DIA_EDITAR
                      00948     
0190   1410           00949     BSF T1CON,0 ;SE ACTIVA EL TIMER 1
                      00950     
0191   08??           00951     MOVF    MES_BCD,W
0192   00??           00952     MOVWF   MES_BCD_EDITAR ;SE GUARDAN LOS VALORES EN EL INSTANTE QUE SE ENTRA AL MODO DE EDICION
                      00953    
0193   08??           00954     MOVF    MES_BIN,W
0194   00??           00955     MOVWF   MES_BIN_EDITAR
0195   08??           00956     MOVF    PORTB_ACTUAL,W ; SE ACTUALIZAN ESTOS REGISTROS YA QUE SI NO SE HACE, AL SER LA CONDICION
0196   00??           00957     MOVWF   PORTB_ANTERIOR ;DE ENTRADA IGUAL QUE LA DE SALIDA, SOLO SE VA A EJECUTAR 1 VEZ
0197   2???           00958      CALL    DELAY_US ;DA TIEMPO A QUE LA SALIDA SE ESTABILICE
0198   0806           00959     MOVF    PORTB,W
0199   00??           00960     MOVWF   PORTB_ACTUAL
                      00961     ;-------SE VERIFICA SI ES EL MINUTO O LA HORA QUE SE VA A EDITAR------------------------------------
                            ---------
                      00962     ;---------------------------------------------------------------------------------------------------
                            --------------------------------
Warning[207]: Found label after column 1. (SI_YA_SE_ENTRO_ANTES_FECHA)
019A                  00963     SI_YA_SE_ENTRO_ANTES_FECHA
                      00964     ;-------------------- SE EVITA EL PARPADEO DE LOS LEDS DEL CENTRO ----------------------------------
                            ------
019A   1509           00965     BSF PORTE,2
                      00966    ;--------------------------------- SE REVISAN LOS FLANCOS DE SUBIDA ---------------------------------
                            --------
019B   2???           00967    CALL FLANCO_SUBIDA_RB0
019C   2???           00968    CALL FLANCO_SUBIDA_RB1 ;SE MIRA SI HUBO UN FLANCO EN AUMENTAR O DISMINUIR
                      00969     ;---------------------------------------------------------------------------------------------------
                            ----------------------------
                      00970     ;SE HACE EL CAMBIO ENTRE 0 O 1 PARA EL VALOR A EDITAR (SE VERIFICA QUE HAYA OCURRIDO FLANCO DE SUBID
                            A)
019D   2???           00971    CALL FLANCO_SUBIDA_RB2
019E   1E00           00972    BTFSS    FLAGS_2,4  ;FLANCO DE SUBIDA EN RB2
019F   2???           00973    GOTO CAMBIAR_FECHA
                      00974    ;---------SE HACE EL CAMBIO DEL VALOR A EDITAR -----------------
01A0   1D00           00975     BTFSS   FLAGS,2 ;SE VE SI ESTA EN 1
01A1   2???           00976     GOTO CAMBIAR_1
01A2   1100           00977     BCF FLAGS,2 ;SE  LIMPIA SI ESTA EN 1
01A3   2???           00978     GOTO    CAMBIAR_FECHA
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[207]: Found label after column 1. (CAMBIAR_1)
01A4                  00979     CAMBIAR_1  ;SI NO ESTA EN 1 ESTA EN CERO ENTONCES 
01A4   1500           00980     BSF FLAGS,2 
                      00981     ;-------------------------------------------------------------------------------------------
Warning[207]: Found label after column 1. (CAMBIAR_FECHA)
01A5                  00982     CAMBIAR_FECHA
01A5   2???           00983     CALL TABLA_MESES ;SE GUARDA PARA SABER EL NUMERO MAXIMO DE DIAS EN EL MES SELECCIONADO
01A6   00??           00984     MOVWF DIA_MAX ;SE GUARDA EN DIA MAX
                      00985     
                      00986     ;--------SE VERIFICA QUE EDITAR DIA NO SEA MAYOR QUE EL DIA ESTABLECIDO PARA EL MES-------------
01A7   08??           00987      MOVF       DIA_MAX,W
01A8   02??           00988     SUBWF DIA_EDITAR,W
01A9   1C03           00989     BTFSS   STATUS, C ; SI C=1  QUIERE DECIR QUE DIA_MAX<= DIA_EDITAR Y ENTONCES SE CORRIGE
01AA   2???           00990     GOTO    DECISION_FECHA
                      00991     ;-----SI DIA_MAX <= DIA_EDITAR ENTONCES DIA_EDITAR=  DIA_MAX-1----------------------------
01AB   03??           00992     DECF    DIA_MAX,W
01AC   00??           00993     MOVWF   DIA_EDITAR 
                      00994   ;-----------------------------------------------------------------------------------------------------
                            -----------------------
Warning[207]: Found label after column 1. (DECISION_FECHA)
01AD                  00995     DECISION_FECHA
01AD   1D00           00996     BTFSS   FLAGS,2 ;SE MIRA SI LO QUE SE DESEA EDITAR ES EL DIA O EL MES
01AE   2???           00997     GOTO EDIT_MONTH
01AF   2???           00998     GOTO EDIT_DAY
                      00999     
Warning[207]: Found label after column 1. (EDIT_DAY)
01B0                  01000     EDIT_DAY
                      01001     ;----------------------------------- DISMINUIR -----------------------------------------------------
                            ---------
Warning[207]: Found label after column 1. (DECREMENTAR_DAY)
01B0                  01002     DECREMENTAR_DAY
                      01003    ; --------------------------------SE COMPRUEBA QUE HAYA UN FLANCO DE SUBIDA EN RB0 ------------------
                            ----
01B0   1D00           01004    BTFSS    FLAGS_2,2 ;FLANCO DE SUBIDA EN RB0 
01B1   2???           01005    GOTO INCREMENTAR_DAY
                      01006     ;--------SI HUBO UN FLANCO DE SUBIDA SE EN RB0 SE EJECUTA ESTO  DECREMENTAR ---------------
01B2   0B??           01007     DECFSZ  DIA_EDITAR,F ;SI AL DECREMENTAR DA 0 ENTONCES HUBO UNDERFLOW
01B3   2???           01008     GOTO    CORREGIR_BCD_DIA_EDITAR
                      01009     
01B4   03??           01010     DECF        DIA_MAX,W
01B5   00??           01011     MOVWF   DIA_EDITAR
                      01012     ;------------------------------------------------------------------------
Warning[207]: Found label after column 1. (CORREGIR_BCD_DIA_EDITAR)
01B6                  01013     CORREGIR_BCD_DIA_EDITAR
01B6   30??           01014     MOVLW   DIA_EDITAR
01B7   0084           01015     MOVWF   FSR ;PASO POR REFERENCIA
01B8   2???           01016     CALL    CORRECCION_BCD_DISMINUCION
                      01017     ;---------------------------------------------------------------------------------------------------
                            ---------------------------
Warning[207]: Found label after column 1. (INCREMENTAR_DAY)
01B9                  01018     INCREMENTAR_DAY
                      01019     ;---------------------- SE VERIFICA SI SE DEBE INCREMENTAR(FLANCO DE SUBIDA EN RB1) ----------------
                            ---------    
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01B9   1D80           01020     BTFSS   FLAGS_2,3
01BA   2???           01021     GOTO    SALIR_FECHA
                      01022     ;------------------------------ SI SE VERIFICA QUE SE DEBE INCREMENTAR SE EJECUTA ESTO--------------
                            ----
01BB   0A??           01023     INCF    DIA_EDITAR,F 
                      01024     
                      01025    ;SE CORRIGE EL BCD
01BC   30??           01026     MOVLW   DIA_EDITAR
01BD   0084           01027     MOVWF   FSR ;PASO POR REFERENCIA
01BE   2???           01028     CALL    CORRECCION_BCD_AUMENTO
                      01029     ;SE VERIFICA QUE NO SE HAYA PASADO DEL DIA MAXIMO PERMITIDO
01BF   08??           01030     MOVF    DIA_MAX,W
01C0   02??           01031     SUBWF   DIA_EDITAR,W
01C1   1D03           01032     BTFSS STATUS,2 ; Z=1 SI DIA_MAX = DIA_EDITAR    SE LIMPIAN LOS DIAS
01C2   2???           01033     GOTO SALIR_FECHA ;SE SALE DE LA RUTINA
                      01034     
01C3   3001           01035     MOVLW .1
01C4   00??           01036     MOVWF   DIA_EDITAR
01C5   2???           01037     GOTO    SALIR_FECHA
                      01038     
Warning[207]: Found label after column 1. (EDIT_MONTH)
01C6                  01039     EDIT_MONTH
                      01040    ; --------------------------------SE COMPRUEBA QUE HAYA UN FLANCO DE SUBIDA EN RB0 ------------------
                            ----
01C6   1D00           01041     BTFSS   FLAGS_2,2
01C7   2???           01042     GOTO INCREMENTAR_MONTH
                      01043     ;---------------------------------------------------------------------------------------------------
                            ---------------------------------
                      01044     ;--------------------------------- SE DECREMENTA SI SE DETECTA UN FLANCO DE SUBIDA------------------
                            ------
01C8   03??           01045     DECF    MES_BCD_EDITAR,F
01C9   0B??           01046     DECFSZ    MES_BIN_EDITAR,F ;SI DA CERO ES QUE HUBO UNDERFLOW Y SE COLOCA UN 1
01CA   2???           01047     GOTO    CORREGIR_BCD_MES_EDITAR
                      01048     
01CB   300C           01049     MOVLW   .12
01CC   00??           01050     MOVWF   MES_BIN_EDITAR
01CD   3012           01051     MOVLW   0x12 ; 12 EN BCD
01CE   00??           01052     MOVWF   MES_BCD_EDITAR
                      01053     
Warning[207]: Found label after column 1. (CORREGIR_BCD_MES_EDITAR)
01CF                  01054     CORREGIR_BCD_MES_EDITAR
                      01055     ;--------- SE CORRIGE EL BCD -------------------------------------------------------------
01CF   30??           01056     MOVLW   MES_BCD_EDITAR
01D0   0084           01057     MOVWF   FSR ;PASO POR REFERENCIA
01D1   2???           01058     CALL    CORRECCION_BCD_DISMINUCION
                      01059     ;-------------------------------------------------------------------------------------------------
Warning[207]: Found label after column 1. (INCREMENTAR_MONTH)
01D2                  01060     INCREMENTAR_MONTH
                      01061     ;---------------------- SE VERIFICA SI SE DEBE INCREMENTAR(FLANCO DE SUBIDA EN RB1) ----------------
                            ---------
01D2   1D80           01062     BTFSS   FLAGS_2,3
01D3   2???           01063     GOTO    SALIR_FECHA
                      01064     ;------------------------------ SI SE VERIFICA QUE SE DEBE INCREMENTAR SE EJECUTA ESTO--------------
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            ----
01D4   0A??           01065     INCF    MES_BCD_EDITAR,F
01D5   0A??           01066     INCF    MES_BIN_EDITAR,F
                      01067     ;-------- SE VERIFICA EL PASO DE 12 A 00 ---------------------------
01D6   300D           01068     MOVLW   .13
01D7   02??           01069     SUBWF   MES_BIN_EDITAR,W
01D8   1D03           01070     BTFSS   STATUS,2
01D9   2???           01071     GOTO    CORREGIR_BCD_MES_INCREMENTAR
                      01072     
01DA   3001           01073     MOVLW .1
01DB   00??           01074     MOVWF MES_BIN_EDITAR
01DC   00??           01075     MOVWF MES_BCD_EDITAR
                      01076     
Warning[207]: Found label after column 1. (CORREGIR_BCD_MES_INCREMENTAR)
01DD                  01077     CORREGIR_BCD_MES_INCREMENTAR
01DD   30??           01078     MOVLW   MES_BCD_EDITAR
01DE   0084           01079     MOVWF   FSR ;PASO POR REFERENCIA
01DF   2???           01080     CALL    CORRECCION_BCD_AUMENTO
                      01081     ;------- LUEGO DE TODO SE LLEGA A ESTE PUNTO --------------------------------------------------
Warning[207]: Found label after column 1. (SALIR_FECHA)
01E0                  01082     SALIR_FECHA 
                      01083     ;------- SE VERIFICA QUE SI SE HA SALIDO SOLO PULSANDO EL BOTON (SALIDA SIN GUARDAR DATOS)--------
01E0   2???           01084     CALL FLANCO_SUBIDA_RB5 ;SE VERIFICA QUE HAYA FLANCO DE SUBIDA EN RB5
01E1   1E80           01085     BTFSS   FLAGS_2,5  ;RB5
01E2   0008           01086     RETURN
                      01087    
                      01088     ;-------------- SI HUBO FLANCO DE SUBIDA SE LLEGA A ESTE PUNTO -----------------------------------
01E3   1180           01089     BCF FLAGS,3 ;SE DESHABILITA EL BIT DE VERIFICACION DE PRIMERA VEZ ENTRANDO A EDITAR HORA
01E4   1100           01090     BCF FLAGS,2 ;SE COLOCA EN EDITAR MINUTO/DIA 
01E5   1080           01091     BCF FLAGS,1 ;SE DESHABILITA EL MODO DE EDICION
                      01092     
01E6   300B           01093    MOVLW   VALOR_TMR1H
01E7   008F           01094    MOVWF   TMR1H
01E8   30DC           01095    MOVLW   VALOR_TMR1L
01E9   008E           01096     MOVWF   TMR1L
                      01097     
01EA   3002           01098     MOVLW   VALOR_TMR1
01EB   00??           01099     MOVWF   CONTADOR_TMR1
01EC   1010           01100     BCF T1CON,0 ;SE APAGA EL TMR1
                      01101     
01ED   0008           01102     RETURN
Warning[207]: Found label after column 1. (EDITAR_TEMPORIZADOR)
01EE                  01103    EDITAR_TEMPORIZADOR:
                      01104     ;CUANDO SE ENTRA EN ESTE MODO RB2 REALIZA LA FUNCION DE SELECTOR DE EDICION DE HORA O MINUTO
                      01105     ;RB5 DETERMINA CUANDO SE SALE DE ESTE MODO, 
01EE   1980           01106     BTFSC   FLAGS,3
01EF   2???           01107     GOTO SI_YA_SE_ENTRO_ANTES_TEMPORIZADOR
                      01108     ;-----------------SE ENTRA A ESTA PARTE SOLO CUANDO ES LA PRIMERA VEZ ------------------------------
                            --------------
01F0   1580           01109     BSF FLAGS,3 ;PARA QUE NO SE VUELVA A ENTRAR AQUI HASTA QUE SE SALGA DEL MODO EDICION
                      01110    
01F1   08??           01111     MOVF    SEGUNDOS_TEMPORIZADOR,W
01F2   3C00           01112     SUBLW   .0 ;SI ES CERO LO ANTERIOR Z=1 
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01F3   1D03           01113     BTFSS   STATUS,2  ;SE VERIFICA QUE LOS SEGUNDOS SEAN 0
01F4   2???           01114     GOTO    IF_NOT_CERO
                      01115     ;YA QUE EL TIEMPO MINIMO PARA CONFIGURAR ES 1 SEGUNDO SE TIENE QUE VERIFICAR QUE EL TEMPORIZADOR
                      01116     ;NUNCA SE COLOQUE EN 00 MINUTOS Y 00 SEGUNDOS AL EDITAR,
01F5   08??           01117     MOVF    MINUTOS_TEMPORIZADOR,W
01F6   3C00           01118     SUBLW   .0 ;UNICAMENTE SI W ES SERO Z=1
01F7   1D03           01119     BTFSS   STATUS,2 ;SE VERIFICA QUE LOS MINUTOS SEAN 0
01F8   2???           01120     GOTO IF_NOT_CERO
                      01121     ; SI ES 0 MINUTOS Y 0 SEGUNDOS SE COLOCA EN 0 MINUTOS Y 1 SEGUNDO
01F9   3001           01122     MOVLW   .1
01FA   00??           01123     MOVWF   SEGUNDOS_TEMPORIZADOR_EDITAR
01FB   2???           01124     GOTO CONTINUE
Warning[207]: Found label after column 1. (IF_NOT_CERO)
01FC                  01125     IF_NOT_CERO
01FC   08??           01126     MOVF    SEGUNDOS_TEMPORIZADOR,W
01FD   00??           01127     MOVWF   SEGUNDOS_TEMPORIZADOR_EDITAR
                      01128     
Warning[207]: Found label after column 1. (CONTINUE)
01FE                  01129     CONTINUE
01FE   1410           01130     BSF T1CON,0 ;SE ACTIVA EL TIMER 1
                      01131     
01FF   08??           01132     MOVF    MINUTOS_TEMPORIZADOR,W
0200   00??           01133     MOVWF   MINUTOS_TEMPORIZADOR_EDITAR ;SE GUARDAN LOS VALORES EN EL INSTANTE QUE SE ENTRA AL MODO DE E
                            DICION
                      01134    
0201   08??           01135     MOVF    PORTB_ACTUAL,W ; SE ACTUALIZAN ESTOS REGISTROS YA QUE SI NO SE HACE, AL SER LA CONDICION
0202   00??           01136     MOVWF   PORTB_ANTERIOR ;DE ENTRADA IGUAL QUE LA DE SALIDA, SOLO SE VA A EJECUTAR 1 VEZ
0203   2???           01137      CALL    DELAY_US ;DA TIEMPO A QUE LA SALIDA SE ESTABILICE
0204   0806           01138     MOVF    PORTB,W
0205   00??           01139     MOVWF   PORTB_ACTUAL
                      01140     ;---------------------------------------------------------------------------------------------------
                            --------------------------------
Warning[207]: Found label after column 1. (SI_YA_SE_ENTRO_ANTES_TEMPORIZADOR)
Warning[208]: Label truncated at 32 characters. (SI_YA_SE_ENTRO_ANTES_TEMPORIZADOR)
0206                  01141     SI_YA_SE_ENTRO_ANTES_TEMPORIZADOR
                      01142     ;-------------------- SE EVITA EL PARPADEO DE LOS LEDS DEL CENTRO ----------------------------------
                            ------
0206   1509           01143     BSF PORTE,2
                      01144     ;---------------------------------------------------------------------------------------------------
                            ----------------------------
                      01145     ;SE HACE EL CAMBIO ENTRE 0 O 1 PARA EL VALOR A EDITAR (SE VERIFICA QUE HAYA OCURRIDO FLANCO DE SUBID
                            A)
0207   2???           01146     CALL    FLANCO_SUBIDA_RB0
0208   2???           01147     CALL    FLANCO_SUBIDA_RB1
0209   2???           01148     CALL    FLANCO_SUBIDA_RB2
020A   1E00           01149     BTFSS   FLAGS_2,4 
020B   2???           01150     GOTO CAMBIAR_TEMPORIZADOR
                      01151     ;---------SE HACE EL CAMBIO DEL VALOR A EDITAR -----------------
020C   1D00           01152     BTFSS   FLAGS,2 ;SE VE SI ESTA EN 1
020D   2???           01153     GOTO CAMBIAR_0_TEMPORIZADOR
                      01154     
020E   1100           01155     BCF FLAGS,2 ;SE  LIMPIA SI ESTA EN 1
020F   2???           01156     GOTO    CAMBIAR_TEMPORIZADOR
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[207]: Found label after column 1. (CAMBIAR_0_TEMPORIZADOR)
0210                  01157     CAMBIAR_0_TEMPORIZADOR  ;SI NO ESTA EN 1 ESTA EN CERO ENTONCES 
0210   1500           01158     BSF FLAGS,2 
                      01159     ;-------------------------------------------------------------------------------------------
Warning[207]: Found label after column 1. (CAMBIAR_TEMPORIZADOR)
0211                  01160     CAMBIAR_TEMPORIZADOR
0211   1900           01161     BTFSC   FLAGS,2 ; SE VE SI LA EDICION ESTA EN HORAS(1) O MINUTOS(0)
0212   2???           01162     GOTO EDIT_MINUTE_TEMPORIZADOR
                      01163  
Warning[207]: Found label after column 1. (EDIT_SECOND)
0213                  01164     EDIT_SECOND
                      01165     ;---------SE VERIFICA SI SE DEBE DECREMENTAR--------------------------------------
Warning[207]: Found label after column 1. (DECREMENTAR_SECOND)
0213                  01166     DECREMENTAR_SECOND
0213   1D00           01167     BTFSS   FLAGS_2,2 ;RB0
0214   2???           01168     GOTO INCREMENTAR_SECOND
                      01169     ;--------SI HUBO UN FLANCO DE SUBIDA SE EN RB0 SE EJECUTA ESTO  DECREMENTAR ---------------
0215   03??           01170     DECF    SEGUNDOS_TEMPORIZADOR_EDITAR,F
                      01171     ;SE VERIFICA SI MINUTOS_TEMPORIZADOR_EDITAR ES DIFERENCE DE CERO
0216   08??           01172     MOVF    MINUTOS_TEMPORIZADOR_EDITAR,W
0217   3C00           01173     SUBLW   .0 ;SOLO SI ES 0 Z=1 
0218   1D03           01174     BTFSS   STATUS,2 
0219   2???           01175     GOTO CORREGIR_BCD_TEMP_SEG_DEC
                      01176     ;-------- SI MINUTOS ES CERO SE EJECUTA ESTO ----------------- 
021A   08??           01177     MOVF    SEGUNDOS_TEMPORIZADOR_EDITAR,W
021B   3C00           01178     SUBLW   .0 ;SI ESTO DA CERO ENTONCES SE COLOCA EN 59 
021C   1D03           01179     BTFSS   STATUS,2
021D   2???           01180     GOTO    CORREGIR_BCD_TEMP_SEG_DEC
                      01181     
021E   3059           01182     MOVLW   B'01011001' ;59 EN BCD
021F   00??           01183     MOVWF   SEGUNDOS_TEMPORIZADOR_EDITAR
                      01184     
Warning[207]: Found label after column 1. (CORREGIR_BCD_TEMP_SEG_DEC)
0220                  01185     CORREGIR_BCD_TEMP_SEG_DEC
                      01186     ;--- CORRECCION DEL BCD ----------
                      01187     ;PRIMERO SE VERIFICA SI SE PASO DE 00 A 59
0220   30FF           01188     MOVLW .255 ;ESTE VALOR HABRIA SI SE LE RESTA 1 A 0X00H 
0221   02??           01189     SUBWF   SEGUNDOS_TEMPORIZADOR_EDITAR,W
0222   1D03           01190     BTFSS   STATUS,2 ;SI ES 1 SE SALTA EL GOTO
0223   2???           01191     GOTO    CORREGIR_BCD_SEGUNDO_TEMPORIZADOR_EDITAR
                      01192     
0224   3059           01193     MOVLW   B'01011001' ;59 EN BCD
0225   00??           01194     MOVWF   SEGUNDOS_TEMPORIZADOR_EDITAR
                      01195     
Warning[207]: Found label after column 1. (CORREGIR_BCD_SEGUNDO_TEMPORIZADOR_EDITAR)
Warning[208]: Label truncated at 32 characters. (CORREGIR_BCD_SEGUNDO_TEMPORIZADOR_EDITAR)
0226                  01196     CORREGIR_BCD_SEGUNDO_TEMPORIZADOR_EDITAR
0226   30??           01197     MOVLW   SEGUNDOS_TEMPORIZADOR_EDITAR
0227   0084           01198     MOVWF   FSR ;PASO POR REFERENCIA
0228   2???           01199     CALL    CORRECCION_BCD_DISMINUCION
Warning[207]: Found label after column 1. (INCREMENTAR_SECOND)
0229                  01200     INCREMENTAR_SECOND
                      01201     ;---------------------- SE VERIFICA SI SE DEBE INCREMENTAR -------------------------
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0229   1D80           01202     BTFSS  FLAGS_2,3 ;RB1
022A   2???           01203     GOTO    SALIR_TEMPORIZADOR
                      01204     
                      01205     ;----------- SI SE LLEGA HASTA AQUI ES QUE SE DEBIA INCREMENTAR ----------------------
022B   0A??           01206     INCF    SEGUNDOS_TEMPORIZADOR_EDITAR,F
                      01207     ;SE VERIFICA SI MINUTOS_TEMPORIZADOR_EDITAR ES DIFERENCE DE CERO
022C   08??           01208     MOVF    MINUTOS_TEMPORIZADOR_EDITAR,W
022D   3C00           01209     SUBLW   .0 ;SOLO SI ES 0 Z=1 
022E   1D03           01210     BTFSS   STATUS,2 
022F   2???           01211     GOTO CORREGIR_BCD_TEMP_SEG_INC
                      01212     ;-------- SI MINUTOS ES CERO SE EJECUTA ESTO ----------------- 
0230   08??           01213     MOVF    SEGUNDOS_TEMPORIZADOR_EDITAR,W
0231   3C5A           01214     SUBLW   B'01011010' ;SI ESTO DA CERO
0232   1D03           01215     BTFSS   STATUS,2
0233   2???           01216     GOTO    CORREGIR_BCD_TEMP_SEG_INC
                      01217     
0234   3001           01218     MOVLW   .1 ;59 EN BCD
0235   00??           01219     MOVWF   SEGUNDOS_TEMPORIZADOR_EDITAR
Warning[207]: Found label after column 1. (CORREGIR_BCD_TEMP_SEG_INC)
0236                  01220     CORREGIR_BCD_TEMP_SEG_INC
                      01221     ;----------------CORRECION DE BCD CUANDO SE PASA DE X9 A (X+1)0
0236   30??           01222     MOVLW   SEGUNDOS_TEMPORIZADOR_EDITAR
0237   0084           01223     MOVWF   FSR ;PASO POR REFERENCIA
0238   2???           01224     CALL    CORRECCION_BCD_AUMENTO
                      01225     ;-----------------VERIFICAR SI SE PASA DE 59 A 00
Warning[207]: Found label after column 1. (VERIFICAR_OVERFLOW_SEGUNDOS_TEMPORIZADOR_EDITAR)
Warning[208]: Label truncated at 32 characters. (VERIFICAR_OVERFLOW_SEGUNDOS_TEMPORIZADOR_EDITAR)
0239                  01226     VERIFICAR_OVERFLOW_SEGUNDOS_TEMPORIZADOR_EDITAR
0239   3060           01227     MOVLW B'01100000' ;60 EN BCD
023A   02??           01228     SUBWF   SEGUNDOS_TEMPORIZADOR_EDITAR,W
023B   1903           01229     BTFSC   STATUS,2 ;SI DA 0 SE REINICIA
023C   01??           01230     CLRF    SEGUNDOS_TEMPORIZADOR_EDITAR
                      01231     
023D   2???           01232     GOTO SALIR_TEMPORIZADOR
                      01233     
Warning[207]: Found label after column 1. (EDIT_MINUTE_TEMPORIZADOR)
023E                  01234     EDIT_MINUTE_TEMPORIZADOR
                      01235     ;------------------------ CADA VEZ QUE SE ENTRA AQUI SE VERIFICA SI SEGUNDOS ES 0 PARA ESTABLECER EL
                             TIEMPO MINIMO----
023E   3000           01236     MOVLW .0
023F   02??           01237     SUBWF SEGUNDOS_TEMPORIZADOR_EDITAR,W
0240   1D03           01238     BTFSS   STATUS,2 
0241   2???           01239     GOTO    VER_PORTB
                      01240     ;SI SEGUNDOS ES 0 ENTONCES SE VERIFICA QUE MINUTOS SEA 0 
0242   3000           01241     MOVLW .0
0243   02??           01242     SUBWF   MINUTOS_TEMPORIZADOR_EDITAR,W
0244   1D03           01243     BTFSS   STATUS,2 
0245   2???           01244     GOTO VER_PORTB
                      01245     
                      01246     ;SI SE LLEGA HASTA AQUI ENTONCES ES QUE SE DEBE CORREGIR PARA NO DAR OPCION DE PONER 0 MIN 0 SEG
0246   3001           01247     MOVLW   .1
0247   00??           01248     MOVWF   SEGUNDOS_TEMPORIZADOR_EDITAR
                      01249     
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[207]: Found label after column 1. (VER_PORTB)
0248                  01250     VER_PORTB
                      01251     ;------SE VERIFICA SI SE DEBE DECREMENTAR------------------
0248   1D00           01252     BTFSS  FLAGS_2,2 ;RB0
0249   2???           01253     GOTO INCREMENTAR_MINUTE_TEMPORIZADOR
                      01254     ;--------SIm HUBO UN FLANCO DE SUBIDA SE EN RB0 SE EJECUTA ESTO ---------------
024A   03??           01255     DECF    MINUTOS_TEMPORIZADOR_EDITAR,F
                      01256     ;--- CORRECCION DEL BCD ----------
                      01257     ;PRIMERO SE VERIFICA SI SE PASO DE 00 A 99
024B   30FF           01258     MOVLW .255 ;ESTE VALOR HABRIA SI SE LE RESTA 1 A 0X00H 
024C   02??           01259     SUBWF   MINUTOS_TEMPORIZADOR_EDITAR,W
024D   1D03           01260     BTFSS   STATUS,2 ;SI ES 1 SE SALTA EL GOTO
024E   2???           01261     GOTO    CORREGIR_BCD_MINUTOS_TEMPORIZADOR_EDITAR
                      01262     
024F   3099           01263     MOVLW   B'10011001' ;99 EN BCD
0250   00??           01264     MOVWF   MINUTOS_TEMPORIZADOR_EDITAR
                      01265     
Warning[207]: Found label after column 1. (CORREGIR_BCD_MINUTOS_TEMPORIZADOR_EDITAR)
Warning[208]: Label truncated at 32 characters. (CORREGIR_BCD_MINUTOS_TEMPORIZADOR_EDITAR)
0251                  01266     CORREGIR_BCD_MINUTOS_TEMPORIZADOR_EDITAR
0251   30??           01267     MOVLW   MINUTOS_TEMPORIZADOR_EDITAR
0252   0084           01268     MOVWF   FSR ;PASO POR REFERENCIA
0253   2???           01269     CALL    CORRECCION_BCD_DISMINUCION
                      01270     ;---------------------------------------------------------------------------------------------------
                            -----------------
Warning[207]: Found label after column 1. (INCREMENTAR_MINUTE_TEMPORIZADOR)
0254                  01271     INCREMENTAR_MINUTE_TEMPORIZADOR
                      01272     ;---------------SE VERIFICA SI SE DEBE INCREMENTAR-----------------------------------------------
0254   1D80           01273     BTFSS  FLAGS_2,3 ;RB1
0255   2???           01274     GOTO    SALIR_TEMPORIZADOR
                      01275     
                      01276     ;----------- SI SE LLEGA HASTA AQUI ES QUE SE DEBIA INCREMENTAR ----------------------
0256   0A??           01277     INCF    MINUTOS_TEMPORIZADOR_EDITAR,F
                      01278     ;----------------CORRECION DE BCD CUANDO SE PASA DE X9 A (X+1)0
0257   30??           01279     MOVLW   MINUTOS_TEMPORIZADOR_EDITAR
0258   0084           01280     MOVWF   FSR ;PASO POR REFERENCIA
0259   2???           01281     CALL    CORRECCION_BCD_AUMENTO
                      01282     ;-----------------VERIFICAR SI SE PASA DE 99 A 00
025A   30A0           01283     MOVLW B'10100000' 
025B   02??           01284     SUBWF   MINUTOS_TEMPORIZADOR_EDITAR,W
025C   1903           01285     BTFSC   STATUS,2 ;SI DA 0 SE REINICIA
025D   01??           01286     CLRF    MINUTOS_TEMPORIZADOR_EDITAR
                      01287     ;------- LUEGO DE TODO SE LLEGA A ESTE PUNTO --------------------------------------------------
Warning[207]: Found label after column 1. (SALIR_TEMPORIZADOR)
025E                  01288     SALIR_TEMPORIZADOR
                      01289     ;------- SE VERIFICA QUE SI SE HA SALIDO SOLO PULSANDO EL BOTON (SALIDA SIN GUARDAR DATOS)--------
025E   2???           01290     CALL    FLANCO_SUBIDA_RB5
025F   1E80           01291     BTFSS   FLAGS_2,5
0260   0008           01292     RETURN
                      01293     
                      01294   
                      01295     ;-------------- SI HUBO FLANCO DE SUBIDA SE LLEGA A ESTE PUNTO -----------------------------------
0261   1180           01296     BCF FLAGS,3 ;SE DESHABILITA EL BIT DE VERIFICACION DE PRIMERA VEZ ENTRANDO A EDITAR HORA
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0262   1100           01297     BCF FLAGS,2 ;SE COLOCA EN EDITAR MINUTO/DIA 
0263   1080           01298     BCF FLAGS,1 ;SE DESHABILITA EL MODO DE EDICION
                      01299     
0264   300B           01300    MOVLW   VALOR_TMR1H
0265   008F           01301    MOVWF   TMR1H
0266   30DC           01302    MOVLW   VALOR_TMR1L
0267   008E           01303     MOVWF   TMR1L
                      01304     
0268   3002           01305     MOVLW   VALOR_TMR1
0269   00??           01306     MOVWF   CONTADOR_TMR1
026A   1010           01307     BCF T1CON,0 ;SE APAGA EL TMR1
                      01308     
026B   0008           01309     RETURN 
                      01310  ;-------------------------------- INTERACCION CON PERIFERICOS -----------------------------------------
                            ------------------------
                      01311  ;EN ESTA SECCION DEL CODIGO SE ENCUENTRAN RUTINAS QUE SE ENCARGAN REGISTRAR LA INTERACCION
                      01312  ; CON LAS ENTRADAS EXTERIORES AL PIC, COMO PULSACIONES DE BOTONES
Warning[207]: Found label after column 1. (FLANCO_SUBIDA_RB0)
026C                  01313  FLANCO_SUBIDA_RB0: ;SE DETECTA UN FLANCO DE SUBIDA EN RB0
026C   1100           01314     BCF FLAGS_2,2  ;SE LIMPIA PARA QUE NO SE TENGA QUE HACER DEFORMA EXTERNA
026D   1800           01315     BTFSC   PORTB_ANTERIOR,0
026E   0008           01316     RETURN ;SI SE EJECUTA ESTO ES QUE ESTA EN 1 O HUBO FLANCO DE BAJADA
                      01317     
026F   1800           01318     BTFSC   PORTB_ACTUAL,0
0270   1500           01319     BSF FLAGS_2, 2 ;SI SE EJECUTA ESTO ES QUE SI HUBO FLANCO DE SUBIDA
0271   0008           01320     RETURN
                      01321     
0272                  01322 FLANCO_SUBIDA_RB1: ;SE DETECTA UN FLANCO DE SUBIDA EN RB0
0272   1180           01323     BCF FLAGS_2,3  ;SE LIMPIA PARA QUE NO SE TENGA QUE HACER DEFORMA EXTERNA
0273   1880           01324     BTFSC   PORTB_ANTERIOR,1
0274   0008           01325     RETURN ;SI SE EJECUTA ESTO ES QUE ESTA EN 1 O HUBO FLANCO DE BAJADA
                      01326     
0275   1880           01327     BTFSC   PORTB_ACTUAL,1
0276   1580           01328     BSF FLAGS_2, 3 ;SI SE EJECUTA ESTO ES QUE SI HUBO FLANCO DE SUBIDA
0277   0008           01329     RETURN
                      01330     
0278                  01331 FLANCO_SUBIDA_RB2: ;SE DETECTA UN FLANCO DE SUBIDA EN RB0
0278   1200           01332     BCF FLAGS_2,4  ;SE LIMPIA PARA QUE NO SE TENGA QUE HACER DEFORMA EXTERNA
0279   1900           01333     BTFSC   PORTB_ANTERIOR,2
027A   0008           01334     RETURN ;SI SE EJECUTA ESTO ES QUE ESTA EN 1 O HUBO FLANCO DE BAJADA
                      01335     
027B   1900           01336     BTFSC   PORTB_ACTUAL,2
027C   1600           01337     BSF FLAGS_2, 4 ;SI SE EJECUTA ESTO ES QUE SI HUBO FLANCO DE SUBIDA
027D   0008           01338     RETURN
                      01339     
027E                  01340 FLANCO_SUBIDA_RB5: ;SE DETECTA UN FLANCO DE SUBIDA EN RB0
027E   1280           01341     BCF FLAGS_2,5  ;SE LIMPIA PARA QUE NO SE TENGA QUE HACER DEFORMA EXTERNA
027F   1A80           01342     BTFSC   PORTB_ANTERIOR,5
0280   0008           01343     RETURN ;SI SE EJECUTA ESTO ES QUE ESTA EN 1 O HUBO FLANCO DE BAJADA
                      01344     
0281   1A80           01345     BTFSC   PORTB_ACTUAL,5
0282   1680           01346     BSF FLAGS_2, 5 ;SI SE EJECUTA ESTO ES QUE SI HUBO FLANCO DE SUBIDA
0283   0008           01347     RETURN
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0284                  01348 DELAY_MS: ;RETARDO DE 1.015 mS
0284   3002           01349     MOVLW   .2
0285   00??           01350     MOVWF   DELAY_2
0286                  01351 REPITE
0286   2???           01352     CALL    DELAY_US
Message[305]: Using default destination of 1 (file).
0287   0B??           01353     DECFSZ  DELAY_2
0288   2???           01354     GOTO    REPITE
0289   0008           01355     RETURN
                      01356     
028A                  01357 DELAY_US: ;RETARDO DE 501 uS
028A   30A6           01358     MOVLW   .166
028B   00??           01359     MOVWF   DELAY
028C   0B??           01360     DECFSZ  DELAY, F
028D   2???           01361     GOTO $-1
028E   0008           01362     RETURN
20D4 3FFF             01363     END
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 31


SYMBOL TABLE
  LABEL                             VALUE 

ABDEN                             00000000
ABDOVF                            00000007
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ANS0                              00000000
ANS1                              00000001
ANS10                             00000002
ANS11                             00000003
ANS12                             00000004
ANS13                             00000005
ANS2                              00000002
ANS3                              00000003
ANS4                              00000004
ANS5                              00000005
ANS6                              00000006
ANS7                              00000007
ANS8                              00000000
ANS9                              00000001
ANSEL                             00000188
ANSELH                            00000189
BAUDCTL                           00000187
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRG0                              00000000
BRG1                              00000001
BRG10                             00000002
BRG11                             00000003
BRG12                             00000004
BRG13                             00000005
BRG14                             00000006
BRG15                             00000007
BRG16                             00000003
BRG2                              00000002
BRG3                              00000003
BRG4                              00000004
BRG5                              00000005
BRG6                              00000006
BRG7                              00000007
BRG8                              00000000
BRG9                              00000001
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 32


SYMBOL TABLE
  LABEL                             VALUE 

BRGH                              00000002
C                                 00000000
C1CH0                             00000000
C1CH1                             00000001
C1IE                              00000005
C1IF                              00000005
C1OE                              00000005
C1ON                              00000007
C1OUT                             00000006
C1POL                             00000004
C1R                               00000002
C1RSEL                            00000005
C1SEN                             00000005
C2CH0                             00000000
C2CH1                             00000001
C2IE                              00000006
C2IF                              00000006
C2OE                              00000005
C2ON                              00000007
C2OUT                             00000006
C2POL                             00000004
C2R                               00000002
C2REN                             00000004
C2RSEL                            00000004
C2SYNC                            00000000
CAMBIAR                           0000014E
CAMBIAR_0                         0000014D
CAMBIAR_0_TEMPORIZADOR            00000210
CAMBIAR_1                         000001A4
CAMBIAR_FECHA                     000001A5
CAMBIAR_TEMPORIZADOR              00000211
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2                             0000001B
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 33


SYMBOL TABLE
  LABEL                             VALUE 

CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000002
CHS1                              00000003
CHS2                              00000004
CHS3                              00000005
CKE                               00000006
CKP                               00000004
CM1CON0                           00000107
CM2CON0                           00000108
CM2CON1                           00000109
CONTADOR_ALARMA                   00000006
CONTADOR_BUZZER                   00000004
CONTADOR_TMR1                     00000002
CONTADOR_TMR2                     00000005
CONTAR_SEGUNDO                    00000011
CONTINUE                          000001FE
CONTROL_DISPLAY                   0000000A
CORRECCION_BCD_AUMENTO            000000ED
CORRECCION_BCD_DISMINUCION        000000F7
CORRECCION_HORA                   00000132
CORREGIR_BCD_DIA_EDITAR           000001B6
CORREGIR_BCD_HORA_EDITAR          00000170
CORREGIR_BCD_MES_EDITAR           000001CF
CORREGIR_BCD_MES_INCREMENTAR      000001DD
CORREGIR_BCD_MINUTOS_TEMPORIZADO  00000251
CORREGIR_BCD_MINUTO_EDITAR        00000159
CORREGIR_BCD_SEGUNDO_TEMPORIZADO  00000226
CORREGIR_BCD_TEMP_SEG_DEC         00000220
CORREGIR_BCD_TEMP_SEG_INC         00000236
CREN                              00000004
CSRC                              00000007
CUENTALED                         00000001
CUENTATMR0                        00000000
CUENTA_DE_ALARMA                  00000016
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
DC1B0                             00000004
DC1B1                             00000005
DC2B0                             00000004
DC2B1                             00000005
DECISION_FECHA                    000001AD
DECREMENTAR_DAY                   000001B0
DECREMENTAR_MINUTOS_TEMPORIZADOR  00000084
DECREMENTAR_SECOND                00000213
DELAY                             00000008
DELAY_2                           00000009
DELAY_MS                          00000284
DELAY_US                          0000028A
DIA                               00000017
DIA_EDITAR                        0000001B
DIA_MAX                           00000018
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 34


SYMBOL TABLE
  LABEL                             VALUE 

DISPLAY_1                         00000023
DISPLAY_1_1_EDITAR_NORMAL         000000CD
DISPLAY_1_2_EDITAR                000000D1
DISPLAY_1_2_EDITAR_NORMAL         000000D5
DISPLAY_2                         00000024
DISPLAY_2_1_EDITAR                000000D9
DISPLAY_2_1_EDITAR_NORMAL         000000DD
DISPLAY_2_2_EDITAR                000000E1
DISPLAY_2_2_EDITAR_NORMAL         000000E5
DISPLAY_EDITAR                    000000C2
DISPLAY_NO_EDITAR                 000000A8
DISP_1_2                          000000B2
DISP_2_1                          000000B6
DISP_2_2                          000000BA
D_A                               00000005
D_NOT_A                           00000005
ECCPAS                            0000009C
ECCPAS0                           00000004
ECCPAS1                           00000005
ECCPAS2                           00000006
ECCPASE                           00000007
EDITANDO_FECHA                    00000062
EDITANDO_HORA                     0000005C
EDITANDO_TIMER                    00000069
EDITAR_FECHA                      0000018B
EDITAR_HORA                       00000136
EDITAR_TEMPORIZADOR               000001EE
EDIT_DAY                          000001B0
EDIT_HOUR                         00000167
EDIT_MINUTE                       00000150
EDIT_MINUTE_TEMPORIZADOR          0000023E
EDIT_MONTH                        000001C6
EDIT_SECOND                       00000213
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDAT                             0000010C
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
ESTABLECER_OPCION                 00000057
F                                 00000001
FERR                              00000002
FLAGS                             0000000B
FLAGS_2                           0000000C
FLANCO_SUBIDA_RB0                 0000026C
FLANCO_SUBIDA_RB1                 00000272
FLANCO_SUBIDA_RB2                 00000278
FLANCO_SUBIDA_RB5                 0000027E
FSR                               00000004
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 35


SYMBOL TABLE
  LABEL                             VALUE 

FUNCIONAMIENTO_NORMAL_TEMPORIZAD  0000007E
FVREN                             00000000
GCEN                              00000007
GIE                               00000007
GO                                00000001
GO_DONE                           00000001
GO_NOT_DONE                       00000001
HORAS                             00000012
HORA_EDITAR                       00000014
HTS                               00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IF_NOT_CERO                       000001FC
INCREMENTAR_DAY                   000001B9
INCREMENTAR_HOUR                  00000173
INCREMENTAR_MINUTE                0000015C
INCREMENTAR_MINUTE_TEMPORIZADOR   00000254
INCREMENTAR_MONTH                 000001D2
INCREMENTAR_SECOND                00000229
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IOCB                              00000096
IOCB0                             00000000
IOCB1                             00000001
IOCB2                             00000002
IOCB3                             00000003
IOCB4                             00000004
IOCB5                             00000005
IOCB6                             00000006
IOCB7                             00000007
IRCF0                             00000004
IRCF1                             00000005
IRCF2                             00000006
IRP                               00000007
LOAD                              00000085
LOOP                              0000003F
LTS                               00000001
MC1OUT                            00000007
MC2OUT                            00000006
MES_BCD                           00000015
MES_BCD_EDITAR                    00000019
MES_BIN                           00000016
MES_BIN_EDITAR                    0000001A
MINUTOS                           00000011
MINUTOS_TEMPORIZADOR              0000001D
MINUTOS_TEMPORIZADOR_EDITAR       0000001F
MINUTO_EDITAR                     00000013
MOSTRAR_DISPLAY_EDITAR            000000E8
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 36


SYMBOL TABLE
  LABEL                             VALUE 

MOSTRAR_VALOR                     000000BD
MSK                               00000093
MSK0                              00000000
MSK1                              00000001
MSK2                              00000002
MSK3                              00000003
MSK4                              00000004
MSK5                              00000005
MSK6                              00000006
MSK7                              00000007
NORMAL                            0000004D
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000001
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
NO_EDITAR_FECHA                   00000081
NO_EDITAR_HORA                    00000071
NO_EDITAR_TEMPORIZADOR            00000091
OERR                              00000001
OPCION                            0000000D
OPCIONES                          00000065
OPCIONES_NORMAL                   00000062
OPCION_FECHA                      0000007E
OPCION_RELOJ                      0000006E
OPCION_TEMPORIZADOR               0000008E
OPTION_REG                        00000081
OSCCON                            0000008F
OSCTUNE                           00000090
OSFIE                             00000007
OSFIF                             00000007
OSTS                              00000003
P                                 00000004
P1M0                              00000006
P1M1                              00000007
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PDC0                              00000000
PDC1                              00000001
PDC2                              00000002
PDC3                              00000003
PDC4                              00000004
PDC5                              00000005
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 37


SYMBOL TABLE
  LABEL                             VALUE 

PDC6                              00000006
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTB_ACTUAL                      0000000E
PORTB_ANTERIOR                    0000000F
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PRSEN                             00000007
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSSAC0                            00000002
PSSAC1                            00000003
PSSBD0                            00000000
PSSBD1                            00000001
PSTRCON                           0000009D
PULSR                             00000002
PULSS                             00000003
PUNTOS_ENMEDIO                    00000036
PWM1CON                           0000009B
R                                 00000002
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RA6                               00000006
RA7                               00000007
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RC0                               00000000
RC1                               00000001
RC2                               00000002
RC3                               00000003
RC4                               00000004
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 38


SYMBOL TABLE
  LABEL                             VALUE 

RC5                               00000005
RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIDL                             00000006
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RD0                               00000000
RD1                               00000001
RD2                               00000002
RD3                               00000003
RD4                               00000004
RD5                               00000005
RD6                               00000006
RD7                               00000007
RE0                               00000000
RE1                               00000001
RE2                               00000002
RE3                               00000003
READ_WRITE                        00000002
REPITE                            00000286
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_NOT_W                           00000002
R_W                               00000002
S                                 00000003
SALIR                             0000017D
SALIR_FECHA                       000001E0
SALIR_TEMPORIZADOR                0000025E
SAVE                              00000004
SAVE_TEMP                         00000020
SBOREN                            00000004
SCKP                              00000004
SCS                               00000000
SEGUIR_NO_EDITAR                  0000009B
SEGUNDOS                          00000010
SEGUNDOS_ALARMA                   00000007
SEGUNDOS_TEMPORIZADOR             0000001C
SEGUNDOS_TEMPORIZADOR_EDITAR      0000001E
SELECCIONAR                       00000007
SEN                               00000000
SENDB                             00000003
SI_EDITAR_FECHA                   00000087
SI_EDITAR_HORA                    00000077
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 39


SYMBOL TABLE
  LABEL                             VALUE 

SI_EDITAR_TEMPORIZADOR            000000A1
SI_YA_SE_ENTRO_ANTES              00000143
SI_YA_SE_ENTRO_ANTES_FECHA        0000019A
SI_YA_SE_ENTRO_ANTES_TEMPORIZADO  00000206
SMP                               00000007
SONAR_BUZZER                      00000021
SPBRG                             00000099
SPBRGH                            0000009A
SPEN                              00000007
SR0                               00000006
SR1                               00000007
SRCON                             00000185
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPMSK                            00000093
SSPOV                             00000006
SSPSTAT                           00000094
START                             00000000
STATUS                            00000003
STATUSRAM                         00000022
STRA                              00000000
STRB                              00000001
STRC                              00000002
STRD                              00000003
STRSYNC                           00000004
SWDTEN                            00000000
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1GINV                            00000007
T1GIV                             00000007
T1GSS                             00000001
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 40


SYMBOL TABLE
  LABEL                             VALUE 

TABLA                             0000008A
TABLA_MESES                       00000095
TITILAR_7S                        0000002B
TITILAR_DISPLAYS                  00000003
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR0_INT                          0000000E
TMR1                              0000000E
TMR1CS                            00000001
TMR1GE                            00000006
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR1_INT                          00000048
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TMR2_INT                          0000006E
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISA6                            00000006
TRISA7                            00000007
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000087
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 41


SYMBOL TABLE
  LABEL                             VALUE 

TRISD                             00000088
TRISD0                            00000000
TRISD1                            00000001
TRISD2                            00000002
TRISD3                            00000003
TRISD4                            00000004
TRISD5                            00000005
TRISD6                            00000006
TRISD7                            00000007
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRISE3                            00000003
TRMT                              00000001
TUN0                              00000000
TUN1                              00000001
TUN2                              00000002
TUN3                              00000003
TUN4                              00000004
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
ULPWUE                            00000005
ULPWUIE                           00000002
ULPWUIF                           00000002
VALOR_BUZZER                      0000007D
VALOR_CONTADOR_ALARMA             000000FA
VALOR_CONTADOR_TMR2               00000032
VALOR_CUENTATMR0                  000000FA
VALOR_FECHA                       00000108
VALOR_LED                         0000003F
VALOR_RELOJ                       00000120
VALOR_SEGUNDOS_ALARMA             0000003C
VALOR_TEMPORIZADOR                00000101
VALOR_TITILAR_7S                  0000007D
VALOR_TMR0                        00000006
VALOR_TMR1                        00000002
VALOR_TMR1H                       0000000B
VALOR_TMR1L                       000000DC
VALOR_TMR2                        0000007D
VCFG0                             00000004
VCFG1                             00000005
VERIFICAR_OVERFLOW_SEGUNDOS_TEMP  00000239
VER_PORTB                         00000248
VR0                               00000000
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 42


SYMBOL TABLE
  LABEL                             VALUE 

VR1                               00000001
VR2                               00000002
VR3                               00000003
VRCON                             00000097
VREN                              00000007
VROE                              00000006
VRR                               00000005
VRSS                              00000004
W                                 00000000
WCOL                              00000007
WDTCON                            00000105
WDTPS0                            00000001
WDTPS1                            00000002
WDTPS2                            00000003
WDTPS3                            00000004
WPUB                              00000095
WPUB0                             00000000
WPUB1                             00000001
WPUB2                             00000002
WPUB3                             00000003
WPUB4                             00000004
WPUB5                             00000005
WPUB6                             00000006
WPUB7                             00000007
WR                                00000001
WRAM                              00000021
WREN                              00000002
WRERR                             00000003
WUE                               00000001
Z                                 00000002
_BOR21V                           00003EFF
_BOR40V                           00003FFF
_BOR4V_BOR21V                     00003EFF
_BOR4V_BOR40V                     00003FFF
_BOREN_NSLEEP                     00003EFF
_BOREN_OFF                        00003CFF
_BOREN_ON                         00003FFF
_BOREN_SBODEN                     00003DFF
_BOR_NSLEEP                       00003EFF
_BOR_OFF                          00003CFF
_BOR_ON                           00003FFF
_BOR_SBODEN                       00003DFF
_CONFIG1                          00002007
_CONFIG2                          00002008
_CPD_OFF                          00003FFF
_CPD_ON                           00003F7F
_CP_OFF                           00003FFF
_CP_ON                            00003FBF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         00001FFF
_DEVID1                           00002006
_EC_OSC                           00003FFB
_EXTRC                            00003FFF
MPASM 5.84                          MAIN.ASM   9-21-2020  22:55:57         PAGE 43


SYMBOL TABLE
  LABEL                             VALUE 

_EXTRCIO                          00003FFE
_EXTRC_OSC_CLKOUT                 00003FFF
_EXTRC_OSC_NOCLKOUT               00003FFE
_FCMEN_OFF                        000037FF
_FCMEN_ON                         00003FFF
_FOSC_EC                          00003FFB
_FOSC_EXTRC_CLKOUT                00003FFF
_FOSC_EXTRC_NOCLKOUT              00003FFE
_FOSC_HS                          00003FFA
_FOSC_INTRC_CLKOUT                00003FFD
_FOSC_INTRC_NOCLKOUT              00003FFC
_FOSC_LP                          00003FF8
_FOSC_XT                          00003FF9
_HS_OSC                           00003FFA
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_IESO_OFF                         00003BFF
_IESO_ON                          00003FFF
_INTOSC                           00003FFD
_INTOSCIO                         00003FFC
_INTRC_OSC_CLKOUT                 00003FFD
_INTRC_OSC_NOCLKOUT               00003FFC
_LP_OSC                           00003FF8
_LVP_OFF                          00002FFF
_LVP_ON                           00003FFF
_MAIN_PROG_028D                   0000028D
_MCLRE_OFF                        00003FDF
_MCLRE_ON                         00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FEF
_WDTE_OFF                         00003FF7
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FF7
_WDT_ON                           00003FFF
_WRT_1FOURTH                      00003BFF
_WRT_256                          00003DFF
_WRT_HALF                         000039FF
_WRT_OFF                          00003FFF
_XT_OSC                           00003FF9
__16F887                          00000001

Errors   :     0
Warnings :   101 reported,     0 suppressed
Messages :    17 reported,     0 suppressed

